{"version":3,"sources":["apps/Server/Auth.js","apps/Server/Fetch.js","apps/Server/Database.js","apps/Server/Admin.js","apps/Server/index.js","apps/utilElements/HelpButton/index.js","apps/utilElements/ErrorPage/index.js","apps/utilElements/TitleElement/index.js","apps/utilElements/CardElement/index.js","apps/utilElements/Notification/index.js","apps/utilElements/StandardPage/index.js","apps/utilElements/UserView/index.js","apps/utilElements/ListView/index.js","apps/utilElements/YTVideo/index.js","apps/utilElements/PaginationElement/index.js","apps/Main/AppContext.js","apps/Main/Navbar/index.js","apps/Main/Sidebar/index.js","apps/Main/Footer/index.js","apps/PublicApp/ContactView/index.js","apps/PublicApp/DocsView/index.js","apps/PublicApp/DemoElement/index.js","apps/PublicApp/HomeView/index.js","apps/PublicApp/WhyPartycipateView/index.js","apps/UserApp/DashboardView/CrossSurveyResultsCard/CrossSurveyTimelineChart.js","apps/UserApp/GeoChart/index.js","apps/UserApp/DashboardView/CrossSurveyResultsCard/index.js","apps/UserApp/DashboardView/index.js","apps/UserApp/SurveyOverview.js","apps/UserApp/CreateSurveyView/SurveyContext.js","apps/UserApp/CreateSurveyView/SelectSurveyComponent.js","apps/UserApp/CreateSurveyView/EditSurveyComponent/survey-elements/QuestionElement/content-blocks/XCoiceBlock/index.js","apps/UserApp/CreateSurveyView/EditSurveyComponent/survey-elements/QuestionElement/index.js","apps/UserApp/CreateSurveyView/EditSurveyComponent/SurveyElement/index.js","apps/UserApp/CreateSurveyView/EditSurveyComponent/index.js","apps/UserApp/CreateSurveyView/ImplementSurveyComponent/index.js","apps/UserApp/CreateSurveyView/CreateSurveyError.js","apps/UserApp/CreateSurveyView/index.js","apps/UserApp/ResultsView/QuestionResultsElement/charts/utils.js","apps/UserApp/ResultsView/QuestionResultsElement/charts/DoughnutChart/index.js","apps/UserApp/ResultsView/QuestionResultsElement/charts/BarChart.js","apps/UserApp/ResultsView/QuestionResultsElement/charts/TrendChart/index.js","apps/UserApp/ResultsView/QuestionResultsElement/index.js","apps/UserApp/ResultsView/index.js","apps/UserApp/AccountView.js","apps/Legal/ImprintView.js","apps/Legal/PrivacyStatementView.js","apps/AuthApp/SignupView/index.js","apps/AuthApp/LoginView/index.js","apps/AuthApp/LogoutView/index.js","apps/AdminApp/AdminUserView.js","apps/AdminApp/AdminUserOverview.js","apps/Main/index.js","index.js"],"names":["token","user","Auth","restoreSession","email","password","name","Fetch","put","username","role","login","post","setToken","loadUser","oldUser","Object","assign","AuthStateListeners","callListeners","Cookies","remove","delete","logout","authStateChangedHandler","listenerID","addListener","undefined","removeListener","result","Error","set","expires","a","get","u","updatePassword","oldPW","newPW","oldPw","newPw","currentUser","callback","id","uuid","listeners","push","index","findIndex","listener","splice","newUser","forEach","acceptableStatusCodes","ResponseType","path","initObject","method","headers","PAHeaders","url","process","fetch","response","includes","status","json","text","responseBody","dict","JSON","parse","body","options","responseType","stringify","resBody","append","Headers","Database","currentDate","Date","previouseDate","setDate","getDate","timeLine","start","toISOString","end","csResults","dayResult","datetime","insertBaseResults","survey","bResult","element","elements","find","element_id","results","count_participants","insertDatetimeResults","creation_date","datetimeResults","elementResult","datetime_result","sort","b","getTime","dtResult","appendDTResultToFittingElement","insertMapResults","countryResults","map_results","createSurvey","getSurveys","getSurveyResults","position","answer_possibilities","Promise","all","getCrossSurveyMapResults","Server","admin","userIsAdmin","auth","user_id","deleteSurvey","Admin","getUsers","getUser","updateUser","uid","deleteUser","Array","isArray","roles","some","init","database","HelpButton","className","section","sectionID","href","window","location","origin","target","ErrorPage","message","history","useHistory","onClick","goBack","TitleElement","children","helpSection","CardElement","elementRef","props","ref","Notification","show","StandardPage","containerClassName","title","UpdateUserError","UpdatePWError","UserView","validateWithOldPasswort","onUpdateUser","updatePW","onUpdatePW","onDeleteUser","useState","setOldPW","pw1","setPW1","pw2","setPW2","setName","setEmail","showDeletationWarning","setShowDeletationWarning","updateUserSuccess","setUpdateUserSuccess","updateUserErrors","setUpdateUserErrors","updatePWSuccess","setUpdatePWSuccess","updatePWErrors","setUpdatePWErrors","setValueVia","setter","event","value","updateUserErrorOccured","error","updatePWErrorOccured","onSubmit","preventDefault","errorArray","test","String","toLowerCase","length","validateUserForm","then","catch","errors","finally","setTimeout","noValidate","htmlFor","type","placeholder","onChange","validatePWForm","ListView","header","errorMessage","listItemContent","linkForItem","onLoad","onFilter","listItems","setListItems","useEffect","List","filteredItems","setFilteredItems","onInput","searchInput","filteredArray","filter","item","map","YTVideo","alt","src","allow","allowFullScreen","PaginationElement","page","setPage","disabled","backendPaths","App","basePath","pathname","split","Navbar","navMenuRef","useRef","showMenu","setShowMenu","isLoggedIn","setIsLoggedIn","isInBackend","setIsInBackend","onAuthStateChanged","updateNavbar","current","classList","userIsInBackend","listen","to","toggle","Sidebar","sidebar","sbMenuRef","useMemo","sb","contains","add","sbMR","toggleSBMenu","Footer","getFullYear","DividerPoint","ContactView","analyseSurveysFAQs","rows","content","createSurveyFAQs","style","paddingTop","paddingBottom","paddingLeft","borderLeft","language","theme","dracula","accountFAQs","additionalFAQs","styles","titleTextColor","bgColor","rowTitleColor","arrowColor","HelpSections","about","analyseSurvey","account","DocsView","useParams","faqSection","document","getElementById","scrollIntoView","data","DemoElement","HomeView","WhyPartycipateView","CrossSurveyTimelineChart","chartRef","chart","Chart","getData","getChartOptions","resize","labels","Intl","DateTimeFormat","navigator","format","datasets","count","borderColor","hoverBackgroundColor","backgroundColor","borderWidth","fill","label","responsive","maintainAspectRatio","aspectRatio","innerWidth","innerHeight","legend","display","tooltips","callbacks","votes","datasetIndex","custom","tooltip","displayColors","scales","yAxes","ticks","stepSize","beginAtZero","stacked","GeoChart","polygonSeries","cartElementContainerRef","cartElementRef","adaptChartColorScheme","isDark","strokeColor","zoomControl","plusButton","background","am4core","stroke","minusButton","slider","each","polygonTemplate","mapPolygons","template","copyOfDataArray","slice","addData","smallMap","series","pop","chartEl","geodata","am4geodata_worldLow","projection","am4maps","Mercator","height","configureChart","useGeodata","chartContainer","wheelable","exclude","heatRules","tooltipText","addPolygonSeries","heatLegend","createChild","align","valign","dy","width","valueAxis","renderer","opposite","strictMinMax","fontSize","addHeatLegend","dispose","mql","matchMedia","matches","addEventListener","removeEventListener","resizeContainer","container","offsetWidth","CrossSurveyResultsCard","timelineResults","setTimelineResults","mapResults","setMapResults","getCrossSurveyTimelineResults","MapResultsCard","TimelineResultsCard","DashboardView","participantName","SurveyOverview","am4themes_animated","SurveyContext","React","createContext","SurveyProvider","Provider","SelectSurveyComponent","onTypeSelected","useContext","updateSurvey","onChooseSurveyType","question","may_skip","XCoiceBlock","elementIndex","showErrors","focusOnLastAnswer","setFocusOnLastAnswer","etsButton","setETSButton","etsPane","setETSPane","usePopper","modifiers","offset","attributes","update","showETSPane","setShowETSPane","toggleETSPane","handleKeyDown","key","createAnswer","updateAnswer","deleteAnswer","onDragEnd","destination","source","droppableId","draggedAnswers","getTypeLabelFor","ElementTypeSelection","popper","provided","innerRef","droppableProps","answer","AnswerOption","focus","onUpdate","onKeyDown","onDelete","XChoiceTypes","singleChoice","multipleChoice","keys","draggableId","draggableProps","dragHandleProps","autoFocus","QuestionElement","SurveyElement","onDuplicate","EditSurveyComponent","duplicateElement","oldElement","newElement","oldAnswerPossibilities","deleteElement","draggedElements","ImplementSurveyComponent","headCode","divCode","CreateSurveyViewComponent","setState","state","step","goForward","saveSurvey","isSaving","statusMessage","this","validateSurvey","prepareSurveyForSaving","surveyID","creationErrorOccured","validateElement","answerPossibility","getSurveyTitle","SurveyComponent","CSVToolbar","onGoBack","bind","onGoForward","Component","CreateSurveyView","withRouter","getBGColors","i","factor","bgColors","hoverBGColors","DoughnutChart","legendRef","innerHTML","generateLegend","maxWidth","possibility","formatter","NumberFormat","maximumFractionDigits","legendCallback","html","dataset","enabled","mode","percentage","percentageString","lines","BarChart","setChart","fontColor","xAxes","dataItems","textColor","formatLabel","gridLines","str","maxwidth","sections","words","temp","concat","TrendChartMode","TrendChart","dt_result","QuestionResultsElement","trendChartMode","setTrendChartMode","getElementTypeLabel","ResultsChart","ResultsView","setSurvey","Content","GeoCard","AccountView","ImprintView","rel","PrivacyStatementView","SignupView","password1","setPassword1","password2","setPassword2","acceptTAC","setAcceptTAC","setErrors","SignupError","nameEntered","passwordIsValid","passwordsAreEqual","errorOccured","formIsValid","signup","Checkbox","inputProps","checked","LoginView","setPassword","LoginError","LogoutView","AdminUserView","userID","setUser","_","AdminUserOverview","textAlign","margin","users","Main","pageContainerRef","action","scrollTo","exact","component","AuthRoute","SecureRoute","AdminRoute","Page404","search","redirectPath","URLSearchParams","useLocation","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9c3c1337.chunk.js","sourcesContent":["import { v4 as uuid } from \"uuid\" \nimport Fetch from \"./Fetch\"\nimport Cookies from 'js-cookie'\n\n\nvar token\nvar user\n\n\nexport const getToken = () => token\n\n\nexport default class Auth {\n    static init() {\n        restoreSession()\n    }\n\n    \n    static async signup(email, password, name) {\n        const result = await Fetch.put(\"api/auth/signup\", { name: name, username: email, email: email, password: password, role: [\"user\"] })\n        await Auth.login(email, password)\n    }\n\n\n    static async login(email, password) {\n        const result = await Fetch.post(\"api/auth/signin\", { username: email, password: password })\n        setToken(result)\n        await loadUser()\n    }\n\n\n    static async updateUser(user) {\n        const result = await Fetch.post(\"api/user\", { email: user.email, name: user.name })\n        setToken(result)\n        const oldUser = Object.assign({}, user)\n        user.name = user.name\n        user.email = user.email\n        AuthStateListeners.callListeners(user, oldUser)\n    }\n\n\n    static updatePassword = async (oldPW, newPW) => await Fetch.post(\"api/user/pw\", { oldPw: oldPW, newPw: newPW })\n\n\n    static async logout() {\n        Cookies.remove(\"partycipate-session-token\")\n        token = null\n        const oldUser = user\n        user = null\n        AuthStateListeners.callListeners(user, oldUser)\n    }\n\n\n    static async deleteUser() {\n        await Fetch.delete(`api/user`)\n        await Auth.logout()\n    }\n\n\n    static onAuthStateChanged(authStateChangedHandler) {\n        const listenerID = AuthStateListeners.addListener(authStateChangedHandler)\n        authStateChangedHandler(user, undefined)\n        return () => AuthStateListeners.removeListener(listenerID)\n    }\n\n\n    static currentUser = () => user\n}\n\n\n\nfunction setToken(result) {\n    if (result.token) {\n        token = result.token\n        Cookies.set(\"partycipate-session-token\", token, { expires: 1 })\n    } else throw Error(\"No token provided\")\n}\n\n\n\nasync function restoreSession() {\n    token = Cookies.get(\"partycipate-session-token\")\n    if (token) await loadUser()\n    else {\n        user = null\n        AuthStateListeners.callListeners(user, undefined)\n    }\n    \n//await loadUser() // REMOVE IF USER LOADING WORKS\n}\n\n\n\nasync function loadUser() {\n    try {\n        const u = await Fetch.get(\"api/user\")\n        u.token = token\n        user = u\n    } catch (error) {\n        user = null\n    }\n//user = {name: \"truth\", email: \"truth.s.gatsby@email.com\", token: \"1234567890\", roles: [\"admin\"]} // REMOVE IF USER LOADING WORKS\n    AuthStateListeners.callListeners(user, undefined)\n}\n\n\n\nclass AuthStateListeners {\n    static listeners = []\n\n    static callListeners = (newUser, oldUser) => AuthStateListeners.listeners.forEach(listener => listener.callback(newUser, oldUser))\n\n    static addListener(callback) {\n        const id = uuid()\n        AuthStateListeners.listeners.push({ id: id, callback: callback })\n        return id\n    }\n\n    static removeListener(id) {\n        const index = AuthStateListeners.listeners.findIndex(listener => listener.id === id)\n        if (index) AuthStateListeners.listeners.splice(index, 1)\n    }\n}","import { getToken } from \"./Auth\"\n\n\nconst acceptableStatusCodes = [200, 201, 304]\n\n\nexport const ResponseType = {\n    json: \"json\",\n    text: \"text\",\n}\n\n\nexport default class Fetch {\n    static async get(path) {\n        let initObject = {\n            method: 'GET', \n            headers: new PAHeaders(),\n        }\n        const url = `${process.env.REACT_APP_BACKEND_URL}/${path}`\n        const response = await fetch(url, initObject)\n        if (!acceptableStatusCodes.includes(response.status)) throw await response.json()\n        const responseBody = await response.text()\n        const dict = JSON.parse(responseBody)\n        return dict\n    }\n\n    static post = async (path, body, options = { responseType: \"json\" }) => {\n        let initObject = {\n            method: 'POST', \n            headers: new PAHeaders(),\n            body: JSON.stringify(body),\n        }\n        const url = `${process.env.REACT_APP_BACKEND_URL}/${path}`\n        const response = await fetch(url, initObject)\n        if (!acceptableStatusCodes.includes(response.status)) throw await response.json()\n        if (options.responseType === ResponseType.json) return await response.json()\n        else if (options.responseType === ResponseType.text) return await response.text()\n    }\n\n    static put = async (path, body) => {\n        let initObject = {\n            method: 'PUT', \n            headers: new PAHeaders(),\n            body: JSON.stringify(body),\n        }\n        const url = `${process.env.REACT_APP_BACKEND_URL}/${path}`\n        const response = await fetch(url, initObject)\n        if (!acceptableStatusCodes.includes(response.status)) throw await response.json()\n        const resBody = await response.json()\n        return resBody\n    }\n\n    static delete = async (path, body) => {\n        let initObject = {\n            method: 'DELETE',\n            headers: new PAHeaders(),\n        }\n        if (body) initObject.body = JSON.stringify(body)\n        const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/${path}`, initObject)\n        if (!acceptableStatusCodes.includes(response.status)) throw await response.json()\n        return response.text()\n    }\n}\n\n\n\nclass PAHeaders extends Headers {\n    constructor() {\n        super()\n        this.append('Content-Type', 'application/json')\n        const token = getToken()\n        if (token) this.append('Authorization', `Bearer ${token}`)\n    }\n}","import Fetch, {ResponseType} from \"./Fetch\"\nimport Server from \"./index\"\n\n\nexport default class Database {\n    static createSurvey = async survey => {\n        const response = await Fetch.post(\"api/survey\", survey, { responseType: ResponseType.text })\n        return response\n    }\n\n\n    static getSurveys = async () => await Fetch.get(`api/survey`)\n\n    \n    static getSurveyResults = async id => {\n        // Fetch survey\n        const survey = await Fetch.get(`api/survey/${id}`)\n        survey.creation_date = new Date(survey.creation_date)\n        // Sort survey elements\n        survey.elements.sort((a,b) => a.position - b.position)\n        survey.elements.forEach(element => element.answer_possibilities.sort((a, b) => a.position - b.position))\n        // Fetch results\n        await Promise.all([ insertBaseResults(survey), insertDatetimeResults(survey), insertMapResults(survey) ])\n\n        return survey\n    }\n\n    static async getCrossSurveyTimelineResults() {\n        // Fetch survey\n        const currentDate = new Date()\n        const previouseDate = new Date()\n        previouseDate.setDate(previouseDate.getDate() - 7)\n        // TODO: UNCOMMENT BEFORE FINAL\n        const timeLine = { start: previouseDate.toISOString(), end: currentDate.toISOString() }\n        //const timeLine = { start: previouseDate.toISOString(), end: currentDate.toISOString() }\n        const csResults = await Fetch.post(`api/analytics/participants`, timeLine)\n        csResults.forEach(dayResult => dayResult.datetime = new Date(dayResult.datetime))\n        return csResults\n    }\n\n    static getCrossSurveyMapResults = async () => Server.admin().userIsAdmin(Server.auth().currentUser()) ? await Fetch.get(`api/analytics/countries`) : await Fetch.get(`api/analytics/countries/user/${Server.auth().currentUser().user_id}`)\n\n    static deleteSurvey = async id => await Fetch.delete(`api/survey/${id}`)\n}\n\n\nasync function insertBaseResults(survey) {\n    // Fetch base results\n    const baseResults = await Fetch.get(`api/analytics/answers/${survey.id}`)\n    // Append base results to survey\n    baseResults.forEach(bResult => {\n        const element = survey.elements.find(element => element.id === bResult.element_id)\n        if (!element) return\n        element.results = bResult.results\n        element.count_participants = bResult.count_participants\n    })\n}\n\n\nasync function insertDatetimeResults(survey) {\n    // Fetch datetime results\n    const datetimeResults = await Fetch.post(`api/analytics/timeline/${survey.id}`, { start: survey.creation_date.toISOString(), end: new Date().toISOString() })\n    datetimeResults.forEach(elementResult => {\n        if (!elementResult.datetime_result) return\n        elementResult.datetime_result.forEach(dayResult => dayResult.datetime = new Date(dayResult.datetime))\n        elementResult.datetime_result.sort((a, b) => a.datetime.getTime() - b.datetime.getTime())\n    })\n    \n    // Append datetime results to survey\n    datetimeResults.forEach(dtResult => appendDTResultToFittingElement(dtResult, survey))\n}\n\n\nasync function insertMapResults(survey) {\n    const countryResults = await Fetch.get(`api/analytics/countries/${survey.id}`)\n    survey.map_results = countryResults\n}\n\n\nfunction appendDTResultToFittingElement(dtResult, survey) {\n    const element = survey.elements.find(element => element.id === dtResult.element_id)\n    if (!element) return\n    element.datetime_result = dtResult.datetime_result\n}","import Fetch from \"./Fetch\"\n\n\nexport default class Admin {\n    static getUsers = async () => await Fetch.get(\"api/admin/user\")\n    static getUser = async id => await Fetch.get(`api/admin/user/${id}`)\n\n    static updateUser = async user => await Fetch.post(`api/admin/user`, { user_id: user.user_id, email: user.email, name: user.name })\n    static updatePassword = async (uid, newPW) => await Fetch.post(\"api/admin/user/pw\", { user_id: uid, newPw: newPW })\n\n    static deleteUser = async uid => await Fetch.delete(`api/admin/user/${uid}`)\n\n    static userIsAdmin = user => user && Array.isArray(user.roles) && user.roles.some(role => role.name == \"ROLE_ADMIN\")\n}","import Database from \"./Database\"\nimport Auth from \"./Auth\"\nimport Admin from \"./Admin\"\n\n\nexport default class Server {\n    static init() {\n        Auth.init()\n    }\n    \n    static database = () => Database\n    static auth = () => Auth\n    static admin = () => Admin\n}\n","import \"./style.css\"\nimport { IoHelpOutline } from \"react-icons/io5\"\n\n\nexport function HelpButton({ className = \"\", section: sectionID = \"\" }) {\n    return (\n        <a className={`btn-light help-button ${className}`} href={`${window.location.origin}${process.env.REACT_APP_PATH_DOCS}/${sectionID}`} target=\"blank\">\n            <IoHelpOutline/>\n        </a>\n    )\n}","import \"./style.css\"\nimport { useHistory } from \"react-router-dom\"\n\n\nexport function ErrorPage({ message = \"We are sorry, an error occured.\" }) {\n    const history = useHistory()\n    return (\n        <div className=\"error-page\">\n            <h2>{ message }</h2>\n            <div className=\"ep-options\">\n                <button className=\"btn-dark\" onClick={ () => history.push(\"/\") }>Home</button>\n                <button className=\"btn-dark\" onClick={ () => history.goBack() }>Go back</button>\n            </div>\n        </div>\n    )\n}","import \"./style.css\";\nimport { HelpButton } from \"../HelpButton\"\n\n\nexport function TitleElement({ children, className = \"\", helpSection }) {\n    return(\n        <div className={ `page-title-element ${className}` }>\n            <div className=\"pte-title\">\n                <h1>{ children }</h1>\n                <div/>\n            </div>\n            { helpSection && <HelpButton className=\"pte-help-btn\" section={helpSection}/> }\n        </div>\n    )\n}\n","import \"./style.css\"\n\n\nexport function CardElement({ children, className = \"\", elementRef, ...props }){\n    return(\n        <div className={ `card-element ${className}` } ref={ elementRef } {...props}>\n            { children }\n        </div>\n    )\n}","import \"./style.css\"\nimport { CardElement } from \"../CardElement\"\n\n\nexport function Notification({ show, children }) {\n    return (\n        <div className={`notification-container ${show ? \"show\" : \"\"}`}>\n            <div className=\"n-bg\"/>\n            <CardElement className=\"notification primary-element\">{ children }</CardElement>\n        </div>\n    )\n}","import \"./style.css\"\nimport { TitleElement } from \"../TitleElement\"\n\n\nexport function StandardPage({ containerClassName=\"\", title, helpSection, className=\"\", children }) {\n    return (\n        <div className={`standard-page ${containerClassName}`}>\n            { title && <TitleElement className=\"sp-title\" helpSection={helpSection}>{ title }</TitleElement> }\n            <div className={`sp-body ${className}`}>\n                { children }\n            </div>\n        </div>\n    )\n}","import \"./style.css\"\nimport { FiChevronRight } from \"react-icons/fi\"\nimport { useState } from \"react\"\nimport { TitleElement, CardElement, Notification, StandardPage } from \"..\"\n\nconst UpdateUserError = {\n  nameError: \"nameError\",\n  emailError: \"emailError\",\n  unknownError : \"unknownError\",\n}\n\nconst UpdatePWError = {\n  oldPWIsWrong: \"Fail -> Old Password is wrong\",\n  passwordUnequalError: \"passwordUnequalError\",\n  passwordRules: \"Fail -> PasswordRules didn't match\",\n  unknownError : \"unknownError\",\n}\n\n\nexport function UserView({ user, helpSection, validateWithOldPasswort=false, onUpdateUser: updateUser, onUpdatePW: updatePW, onDeleteUser: deleteUser }) {\n  const [oldPW, setOldPW] = useState(\"\")\n  const [pw1, setPW1]     = useState(\"\")\n  const [pw2, setPW2]     = useState(\"\")\n  const [name, setName]   = useState(user.name || \"\")\n  const [email, setEmail] = useState(user.email || \"\")\n\n  const [showDeletationWarning, setShowDeletationWarning] = useState(false)\n\n  const [updateUserSuccess, setUpdateUserSuccess] = useState()\n  const [updateUserErrors, setUpdateUserErrors] = useState()\n  const [updatePWSuccess, setUpdatePWSuccess] = useState()\n  const [updatePWErrors, setUpdatePWErrors] = useState()\n\n  const setValueVia = setter => event => setter(event.target.value)\n\n\n  const nameIsValid = () => /^(([A-Za-z0-9-]{1,30})[ ]?)*([A-Za-z0-9-]{1,30})?$/.test(name)\n\n  function emailIsValid() {\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    return re.test(String(email).toLowerCase())\n  }\n\n  function validatePWForm() {\n    const errorArray = []\n    if (validateWithOldPasswort && oldPW === \"\") errorArray.push(UpdatePWError.oldPWIsWrong)\n    if (!/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{10,}$/.test(pw1)) errorArray.push(UpdatePWError.passwordRules)\n    if (pw1 !== pw2) errorArray.push(UpdatePWError.passwordUnequalError)\n    if (errorArray.length > 0) {\n      setUpdatePWErrors(errorArray)\n      return false\n    } else return true\n  }\n\n\n  function handleUpdatePW(event) {\n    event.preventDefault()\n    const inputIsValid = validatePWForm()\n    if (!inputIsValid) return\n    updatePW(oldPW, pw1)\n    .then(() => {\n      setUpdatePWSuccess(true)\n      setUpdatePWErrors(undefined)\n      setOldPW(\"\")\n      setPW1(\"\")\n      setPW2(\"\")\n    })\n    .catch(error => {\n      const errorArray = []\n      switch(error.message) {\n        case UpdatePWError.oldPWIsWrong: errorArray.push(UpdatePWError.oldPWIsWrong)\n        case UpdatePWError.passwordRules: errorArray.push(UpdatePWError.passwordRules)\n        break\n        default: errorArray.push(UpdatePWError.unknownError)\n      } \n      setUpdatePWErrors(errorArray)\n    })\n    .finally(() => setTimeout(() => setUpdatePWSuccess(false), 5000))\n  }\n\n\n  function handleUpdateUser(event) {\n    event.preventDefault()\n    if (!validateUserForm()) return\n    user.name = name\n    user.email = email\n    updateUser(user)\n    .then(() => {\n      setUpdateUserErrors(undefined)\n      setUpdateUserSuccess(true)\n    })\n    .catch((errors) =>{\n      const errorArray = []\n      switch(errors.message) {\n        case UpdateUserError.nameError : errorArray.push(UpdateUserError.nameError)\n        case UpdateUserError.emailError : errorArray.push(UpdateUserError.emailError)\n        break\n        default : errorArray.push(UpdateUserError.unknownError)\n      }\n      setUpdateUserErrors(errorArray)\n    })\n    .finally(() => setTimeout(() => setUpdateUserSuccess(false), 5000))\n  }\n\n  function validateUserForm() {\n    const errorArray = []\n    if (!nameIsValid()) errorArray.push(UpdateUserError.nameError)\n    if (!emailIsValid()) errorArray.push(UpdateUserError.emailError)\n    if (errorArray.length > 0) {\n      setUpdateUserErrors(errorArray)\n      return false\n    } else return true\n  }\n\n  const updateUserErrorOccured = error => Array.isArray(updateUserErrors) && updateUserErrors.includes(error)\n  const updatePWErrorOccured = error => Array.isArray(updatePWErrors) && updatePWErrors.includes(error)\n  \n  return(\n    <StandardPage\n      className=\"user-view\"\n      title=\"Make changes to this account \"\n      helpSection={helpSection}\n    >\n      <div className=\"av-body\">\n        <CardElement className=\"secondary-element av-card\">\n          <form onSubmit={handleUpdateUser} noValidate>\n            <TitleElement className=\"Change-name\">Change name and e-mail here</TitleElement>\n            <label htmlFor=\"newname\">New name:</label>\n            <input type=\"name\" placeholder=\"Enter name\" name=\"newname\" value={name} onChange={setValueVia(setName)}/>\n            { updateUserErrorOccured(UpdateUserError.nameError) && <small className=\"error\">Please enter a valid name!</small> }\n\n            <label htmlFor=\"newemail\">New e-mail:</label>\n            <input type=\"email\" placeholder=\"Enter e-mail\" name=\"newemail\" value={email} onChange={setValueVia(setEmail)}/>\n            { updateUserErrorOccured(UpdateUserError.emailError) && <small className=\"error\">The e-mail is invalid. Please try again!</small> }\n            { updateUserErrorOccured(UpdateUserError.unknownError) && <small className=\"error\">An error occured. Please try again in some minutes!</small> }\n            { updateUserSuccess && <small className=\"success\">Your profile was successfully changed!</small> }\n            \n            <div className=\"buttonbar\">\n              <button className=\"btn-dark btn-icon-right\">Change now<FiChevronRight/></button>\n            </div>\n          </form>\n        </CardElement>\n\n        <CardElement className=\"secondary-element av-card\">\n          <form onSubmit={handleUpdatePW} noValidate>\n            <TitleElement className=\"Change-pw\">Change password here</TitleElement>\n            { validateWithOldPasswort &&  <label htmlFor=\"oldpw\">Old password:</label> }\n            { validateWithOldPasswort && <input type=\"password\" placeholder=\"Enter old password\" name=\"oldpw\" value={oldPW} onChange={setValueVia(setOldPW)}/> }\n            { updatePWErrorOccured(UpdatePWError.oldPWIsWrong) && <small className=\"error\">The old password is not correct. Please try again.</small> }\n\n            <label htmlFor=\"pw1\">New password:</label>\n            <input type=\"password\" placeholder=\"Enter new password\" name=\"pw1\" value={pw1} onChange={setValueVia(setPW1)}/>\n            <small className={updatePWErrorOccured(UpdatePWError.passwordRules) ? \"error\" : \"\"}>The password needs at least a length of 10 characters and needs to contain numbers, uppercase and lowercase letters.</small>\n\n            <label htmlFor=\"pw2\">Repeat new password:</label>\n            <input type=\"password\" placeholder=\"Repeat new password\" name=\"pw2\" value={pw2} onChange={setValueVia(setPW2)}/>\n            { updatePWErrorOccured(UpdatePWError.passwordUnequalError) && <small className=\"error\">The password is not equal to the one mentioned above. Please try again!</small> }\n\n            { updatePWErrorOccured(UpdatePWError.unknownError) && <small className=\"error\">An error occured. Please try again in some minutes!</small> }\n            { updatePWSuccess && <small className=\"success\">The password was successfully changed!</small> }\n            \n            <div className=\"buttonbar\">\n              <button className=\"btn-dark btn-icon-right\">Change now<FiChevronRight/></button>\n            </div>\n          </form>\n        </CardElement>\n\n        <CardElement className=\"secondary-element av-card\">\n          <TitleElement className=\"delete\">Delete account here</TitleElement>\n          <div className=\"del\"> \n            <p>If you choose to delete this account, all surveys will become inactive and all survey results will be lost.</p>\n            <p>We will delete all data related to this account.</p>\n            <p>Please note that an account deletion cannot be undone.</p>\n          </div>\n          <div className=\"buttonbar\">\n            <button className=\"btn-dark btn-icon-right\" onClick={() => setShowDeletationWarning(true)}>Delete now<FiChevronRight/></button>\n          </div>\n        </CardElement>\n      </div>\n\n      <Notification show={showDeletationWarning}>\n        <p>Do you really want to delete this account? This cannot be undone!</p>\n        <div className=\"toolbar\">\n          <button onClick={() => setShowDeletationWarning(false)} className=\"btn-dark\">Cancel</button>\n          <button onClick={deleteUser} className=\"btn-dark btn-delete\">Delete</button>\n        </div>\n      </Notification>\n    </StandardPage>\n  )\n}","import \"./style.css\"\nimport { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { ErrorPage, CardElement, StandardPage } from \"..\"\n\n\nexport function ListView({ title, helpSection, className=\"\", header, errorMessage, listItemContent, linkForItem, onLoad, onFilter }) {\n    const [listItems, setListItems] = useState()\n\n    useEffect(() => {\n        onLoad()\n        .then(setListItems)\n        .catch(() => setListItems(null))\n    }, [])\n\n    return (\n        <StandardPage className={`list-view ${className}`} helpSection={helpSection} title={title}>    \n            { header }\n            { listItems\n                ? <List listItems={listItems} listItemContent={listItemContent} linkForItem={linkForItem} onFilter={onFilter}/>\n                : listItems === null && <ErrorPage message={errorMessage}/>\n            }\n        </StandardPage>\n    )\n}\n\nfunction List({listItems, onFilter, listItemContent, linkForItem}) {\n    const history = useHistory()\n    const [filteredItems, setFilteredItems] = useState(listItems)\n\n    const handleSearchInput = event => {\n        const searchInput = event.target.value.toLowerCase()\n        if (searchInput === \"\") setFilteredItems(listItems)\n        else {\n            const filteredArray = listItems.filter(item => onFilter(item, searchInput))\n            setFilteredItems(filteredArray)\n        }\n    }\n\n    return (\n        <div>\n            <div className=\"lv-search-bar-container\">\n                <input type=\"text\" placeholder=\"Search\" onInput={handleSearchInput}/>\n            </div>\n            <ul className=\"item-list\">\n                { Array.isArray(filteredItems) &&\n                    filteredItems.map((item, index) => (\n                        <li key={index}>\n                            <CardElement className=\"link-light primary-element lv-card\" onClick={() => history.push(linkForItem(item))}>{listItemContent(item)}</CardElement>\n                        </li>\n                    ))\n                }\n            </ul>\n        </div>\n    )\n}","import \"./style.css\"\n\nexport function YTVideo({url, alt, className=\"\"}) {\n    return (\n        <div className={`yt-video-container ${className}`}>\n            <div className=\"yt-video\">\n                <iframe src={url} title={`YouTube video - ${alt}`} alt={alt} allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen/>\n            </div>\n        </div>\n    )\n}","import \"./style.css\"\nimport { useState } from \"react\"\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\"\n\n\nexport function PaginationElement({children}) {\n    const [page, setPage] = useState(1)\n\n    const previousePage = () => setPage(page => page-1)\n    const nextPage = () => setPage(page => page+1)\n\n    return (\n        <div className=\"pagination-element\">\n            { children[page - 1] }\n            <div>\n                <button className=\"btn-light\" disabled={page <= 1} onClick={previousePage}><FiChevronLeft/></button>\n                {`${page}/${children.length}`}\n                <button className=\"btn-light\" disabled={page === children.length} onClick={nextPage}><FiChevronRight/></button>\n            </div>\n        </div>\n    )\n}","\nconst backendPaths = [\"dashboard\", \"create-survey\", \"surveys\", \"my-account\", \"users\"]\n\nexport default class App {\n    static userIsInBackend()  {\n        const basePath = window.location.pathname.split(\"/\")[1]\n        const fittingPath = backendPaths.find(path => path === basePath)\n        return fittingPath !== undefined\n    }\n}","import \"./style.css\"\nimport { CgMenu, CgClose } from \"react-icons/cg\"\nimport { useEffect, useRef, useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport Server from \"../../Server\"\nimport App from \"../AppContext\"\n\n\nexport default function Navbar() {\n    const navMenuRef = useRef()\n    const history    = useHistory()\n    const [showMenu, setShowMenu]       = useState(false)\n    const [isLoggedIn, setIsLoggedIn]   = useState(false)\n    const [isInBackend, setIsInBackend] = useState()\n\n    useEffect(() => Server.auth().onAuthStateChanged(user => setIsLoggedIn(user)), [])\n\n    // Set \"isInBackend\" flas so that some navbar items which are duplicated in sidebar can be hided.\n    useEffect(() => {\n        const updateNavbar = () => {\n            setShowMenu(false)\n            navMenuRef.current.classList.remove(\"show-menu\")\n            setIsInBackend(App.userIsInBackend())\n        }\n        updateNavbar()\n        history.listen(updateNavbar)\n    }, [])\n\n    const toggleMenu = () => {\n        setShowMenu(!showMenu)\n        navMenuRef.current.classList.toggle(\"show-menu\")\n    }\n    \n    return (\n        <div className=\"navbar\">\n            <div className=\"logo\"><Link to={process.env.REACT_APP_PATH_HOME}><img src={ `${process.env.PUBLIC_URL}/images/logo.png` } alt=\"Partycipate's logo\"/></Link></div>\n            <button className=\"menu-toggle link-dark\" onClick={ toggleMenu }>{ showMenu ? <CgClose/> : <CgMenu/> }</button>\n            <div className=\"nav-menu\" ref={ navMenuRef }>\n                <Link className=\"link-dark\" to={process.env.REACT_APP_PATH_HOME}>Home</Link>\n                <Link className=\"link-dark\" to={process.env.REACT_APP_PATH_WHY_PARTICIPATE}>Why Partycipate</Link>\n                <Link className=\"link-dark\" to={process.env.REACT_APP_PATH_DOCS}>Docs</Link>\n                <Link className=\"link-dark\" to={process.env.REACT_APP_PATH_CONTACT}>Contact</Link>\n                { isInBackend === false && <div className=\"nb-separator\"> | </div> }\n                { (isLoggedIn && !isInBackend) && <Link className=\"link-button btn-light\" to={process.env.REACT_APP_PATH_DASHBOARD}>Dashboard</Link> }\n                { isLoggedIn === null && <Link className=\"link-button btn-light\" to={process.env.REACT_APP_PATH_SIGN_UP}>Sign Up</Link> }\n                { isLoggedIn === null && <Link className=\"link-dark\" to={process.env.REACT_APP_PATH_LOGIN}>Login</Link> }\n            </div>\n        </div>\n    )\n}","import \"./style.css\"\nimport { useEffect, useRef, useMemo } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { IoIosMore } from \"react-icons/io\"\nimport { IoHome, IoCreateOutline, IoStatsChart } from \"react-icons/io5\"\nimport { IoIosPeople } from \"react-icons/io\"\nimport { CgClose } from \"react-icons/cg\"\nimport Server from \"../../Server\"\nimport App from \"../AppContext\"\n\n\nexport default function Sidebar() {\n    const history = useHistory()\n    const sidebar = useRef()\n    const sbMenuRef = useRef()\n    const userIsAdmin = useMemo(() => Server.admin().userIsAdmin(Server.auth().currentUser()), [])\n\n    // Toggles the sidebar if user switches between frontend and backend.\n    useEffect(() => {\n        const updateNavbar = () => {\n            const sb = sidebar.current\n            if (!sb) return\n            if (App.userIsInBackend()) {\n                if (!sb.classList.contains(\"show\")) sb.classList.add(\"show\")\n            } else if (sb.classList.contains(\"show\")) sb.classList.remove(\"show\")\n\n            const sbMR = sbMenuRef.current\n            if (!sbMR) return\n            if (!App.userIsInBackend() && sbMR.classList.contains(\"show\")) sbMR.classList.remove(\"show\")\n        }\n        updateNavbar()\n        history.listen(updateNavbar)\n    }, [])\n\n    const toggleSBMenu = () => sbMenuRef.current.classList.toggle(\"show\")\n\n    const logout = () => Server.auth().logout().catch(() => {})\n\n    return (\n        <div className=\"sidebar secondary-element\" ref={sidebar}>\n            <div className=\"sb-toolbar-menu\">\n                <Link className=\"link-light sbtm-btn\" to={process.env.REACT_APP_PATH_DASHBOARD}><IoHome/></Link>\n                { userIsAdmin \n                    ? <Link className=\"link-light sbtm-btn\" to={process.env.REACT_APP_PATH_USERS_OVERVIEW}><IoIosPeople/></Link>\n                    : <Link className=\"link-light sbtm-btn\" to={process.env.REACT_APP_PATH_CREATE_SURVEY}><IoCreateOutline/></Link>\n                }\n                <Link className=\"link-light sbtm-btn\" to={process.env.REACT_APP_PATH_SURVEY_OVERVIEW}><IoStatsChart/></Link>\n                <button className=\"link-light sbtm-btn\" onClick={toggleSBMenu}><IoIosMore/></button>\n            </div>\n            <div className=\"sb-menu secondary-element\" ref={sbMenuRef}>\n                <button className=\"link-light sbm-close-btn\" onClick={toggleSBMenu}><CgClose/></button>\n                <Link className=\"link-light\" to={process.env.REACT_APP_PATH_DASHBOARD} onClick={toggleSBMenu}>My Dashboard</Link>\n                <Link className=\"link-light\" to={process.env.REACT_APP_PATH_CREATE_SURVEY} onClick={toggleSBMenu}>Create Survey</Link>\n                <Link className=\"link-light\" to={process.env.REACT_APP_PATH_SURVEY_OVERVIEW} onClick={toggleSBMenu}>View Results</Link>\n                { userIsAdmin && <Link className=\"link-light\" to={process.env.REACT_APP_PATH_USERS_OVERVIEW} onClick={toggleSBMenu}>Users</Link> }\n                <Link className=\"link-light\" to={process.env.REACT_APP_PATH_ACCOUNT_VIEW} onClick={toggleSBMenu}>My Account</Link>\n                <button className=\"link-light logout\" onClick={logout}>Logout</button>\n            </div>\n        </div>\n    )\n}","import \"./style.css\"\nimport { Link } from \"react-router-dom\"\n\nexport default function Footer() {\n    return (\n        <footer>\n            <div className=\"footer-menu\">\n                <Link className=\"item activatable\" to={process.env.REACT_APP_PATH_HOME}>Home</Link>\n                <DividerPoint/>\n                <Link className=\"item activatable\" to={process.env.REACT_APP_PATH_WHY_PARTICIPATE}>Why Partycipate</Link>\n                <DividerPoint/>\n                <Link className=\"item activatable\" to={process.env.REACT_APP_PATH_ABOUT_US}>About us</Link>\n                <DividerPoint/>\n                <Link className=\"item activatable\" to={process.env.REACT_APP_PATH_DOCS}>Docs</Link>\n                <DividerPoint/>\n                <Link className=\"item activatable\" to={process.env.REACT_APP_PATH_CONTACT}>Contact</Link>\n                <DividerPoint/>\n                <Link className=\"item activatable\" to={process.env.REACT_APP_PATH_IMPRINT}>Imprint</Link>\n                <DividerPoint/>\n                <Link className=\"item activatable\" to={process.env.REACT_APP_PATH_PRIVACY_STATEMENT}>Privacy Statement</Link>\n            </div>\n            <p className=\"copyright-statement\"><Link to={process.env.REACT_APP_PATH_HOME}>Partycipate AG</Link>  { new Date().getFullYear() }</p>\n        </footer>\n    )\n}\n\n\nconst DividerPoint = () => <div className=\"divider-point\">  </div>","import \"./style.css\"\nimport { Link} from \"react-router-dom\"\nimport { CardElement, StandardPage } from \"../../utilElements\"\nimport { IoHelpOutline } from \"react-icons/io5\"\nimport {AiOutlineMail} from \"react-icons/ai\"\n\n\nexport function ContactView(){\n  return(\n    <div className=\"contact-view\">\n      <StandardPage title=\"Do you need any help  \" containerClassName=\"cv-column cv-left\">\n        <p>We are happy to help you with  setting up your account, finding the survey that fits to your question or any other sorts of issues.</p>\n      </StandardPage>\n\n      <div className=\"cv-column cv-right\">\n        <CardElement className=\"secondary-element cv-card\">\n          <a href=\"mailto:hello@partycipate.de\" className=\"link\">\n            <AiOutlineMail/>\n            hello@partycipate.de\n          </a>\n          <Link to={process.env.REACT_APP_PATH_DOCS} className=\"link\">\n            <IoHelpOutline/>\n            Docs\n          </Link>\n        </CardElement>\n      </div>\n    </div>\n  )\n}","import \"./style.css\"\nimport { useEffect } from \"react\"\nimport Faq from \"react-faq-component\"\nimport { useParams } from \"react-router\"\nimport { CopyBlock, dracula } from \"react-code-blocks\"\nimport { StandardPage, YTVideo } from \"../../utilElements\"\n\n\nconst generalFAQs = () => ({\n    title: \"About Partycipate\",\n    rows: [\n        {\n            id: \"what-is-partycipate\",\n            title: \"What is Partycipate?\",\n            content: (\n                <div>\n                    <p>Partycipate is an easy-to-use survey tool.<br/></p>\n                    <YTVideo url={process.env.REACT_APP_INTRO_VIDEO_URL} alt=\"Hello, we are Partycipate!\"/>\n                    <p>Learn more about us <a href={process.env.REACT_APP_PATH_WHY_PARTICIPATE}>here</a>!<br/></p>\n                </div>\n            ),\n        },\n        {\n            title: \"Do I need to be a developer to use Partycipate?\",\n            content: (\n                <p>\n                    Absolutely not! Our goal is to make creating surveys as easy as possible.\n                    <br/>\n                    Learn more about creating surveys <a href={`${process.env.REACT_APP_PATH_DOCS}/${HelpSections.createSurvey}`}>here</a>!\n                </p>\n            ),\n        },\n        {\n            title: \"How secure is Partycipate?\",\n            content: <p>Partycipate is totally secure, so you can lay back and benefit from our functionalities.</p>,\n        },\n        {\n            title: \"How can I register at Partycipate?\",\n            content: <p>Registrating at Partycipate is easy. Just enter your e-mail address and set a password and you're good to go. You can do so  <a href={process.env.REACT_APP_PATH_SIGN_UP}>here</a>.</p>,\n        },\n        {\n            title: \"Which browsers are supported?\",\n            content: <p>For our Admin App, we recommend using Chrome, Safari or Edge. Survey analysis does currently not work on Firefox, but we're working hard on it to enable this feature for you. Our Web Snippet for your website works in all modern Browsers.</p>,\n        },\n    ],\n})\n\nconst analyseSurveysFAQs = {\n    title: \"Analyse results\",\n    rows: [\n        {\n            id: \"check-results\",\n            title: \"How can I check the results of my survey?\",\n            content: <p>You can find your survey results in <a href={process.env.REACT_APP_PATH_SURVEY_OVERVIEW}>View Results</a>.</p>,\n        },\n        {\n            title: \"Who is allowed to see the results of a survey?\",\n            content: (\n                <p>\n                    Partycipants get a short overview of the survey-results after answering.\n                    <br/>\n                    Creators of a survey can get a full report in <a href={process.env.REACT_APP_PATH_SURVEY_OVERVIEW}>View Results</a>.\n                </p>\n            ),\n        },\n        {\n            title: \"Can a participant answer a question twice?\",\n            content: <p>No. We make use of cookies in order to prevent users from taking surveys twice and to prevent blurred results.</p>,\n        },\n        {\n            title: \"Does a participant need an account to take part in a survey?\",\n            content: (\n                <p>\n                    No. A participant can take part in a Partycipate survey without an account.\n                    <br/>\n                    However, if you want to create a survey, you will need an account.\n                    <br/>\n                    Either <a href={process.env.REACT_APP_PATH_SIGN_UP}>create an account</a> or  <a href={process.env.REACT_APP_PATH_LOGIN}>log in</a>.\n                </p>\n            ),\n        },\n    ],\n}\n\nconst createSurveyFAQs = {\n    title: \"Create surveys\",\n    rows: [\n        {\n            id: \"create-survey\",\n            title: \"How can I create a survey?\",\n            content: (\n                <ol>\n                    <li>\n                        Go to <a href={process.env.REACT_APP_PATH_CREATE_SURVEY} target=\"blank\" >\"Create Survey\"</a> and choose your survey type:<br/>\n                        Decide between a single- or multiple-choice survey, click on \"save\" and you will get directed to the next step.\n                    </li>\n                    <li>\n                        Specify the details of your survey: \n                        <ul style={{paddingTop: \"10px\"}}>\n                            <li>Set the name for your survey first. This name is only used for storing.</li>\n                            <li>Next, enter your questions of interest in an easily understandable way.</li>\n                            <li>Last, define the answer possibilities. To add an additional one, click on add answer\".</li>\n                            <li>To delete an answer, click on the bin-symbol right next to it.</li>\n                            <li style={{paddingBottom: \"0\"}}>You can also change the survey type using the drop-down button on the right. When you're finished, click on \"save\" to get directed to the final step.</li>\n                        </ul>\n                    </li>\n                    <li>\n                        Implement your survey: <br/>\n                        In the last step you get your code snippet. Copy and paste it to your website. Don't forget to also copy our privacy snippet. Congratulations, you're down and your survey is now answerable! \n                    </li>\n                </ol>\n            ),\n        },\n        {\n            id: \"which-survey-types-do-you-offer\",\n            title: \"Which survey types do you offer?\",\n            content: <p>Currently, we offer single- and multiple-choice surveys.<br/>We are planning on extending our survey types in future, so stay tuned!</p>,\n        },\n        \n        {\n            title: \"What should be considered concerning legal terms?\",\n            content: (\n                <div>\n                    <p>We recommend to insert the following text into your privacy statement under the subsection Surveys\", which is reviewed by our legal experts:</p>\n                    <div style={{paddingLeft: \"10px\", borderLeft: \"2px solid #BBD9DB\"}}>\n                        <h3>Partycipate</h3>\n                        <p>This website uses functions of the online survey service Partycipate. The provider of this service is Partycipate AG (&bdquo;Partycipate&ldquo;), Roteb&uuml;hlplatz 41, Geb&auml;ude 1 70178 Stuttgart, Germany.</p>\n                        <p>Partycipate is a tool used to conduct surveys on this website. When participating in a survey only data transmitted by the browser in use will be stored and processed.</p>\n                        <p>Partycipate uses so-called cookies. Cookies are text files, which are stored on your computer and that enable an analysis of the use of the website by users. The information generated by cookies on your use of this website is usually transferred to a Partycipate server in Germany, where it is stored.</p>\n                        <p>The storage of Partycipate cookies and the utilization of this survey tool are based on Art. 6 Sect. 1 lit. f GDPR. The operator of this website has a legitimate interest in the analysis of conducted user surveys to optimize both, the services offered online and the operator&rsquo;s advertising activities. If a corresponding agreement has been requested (e.g. an agreement to the storage of cookies), the processing takes place exclusively on the basis of Art. 6 para. 1 lit. a GDPR; the agreement can be revoked at any time.</p>\n                        <p>You do have the option to prevent the archiving of cookies by making pertinent changes to the settings of your browser software. However, we have to point out that in this case you may not be able to use all of the functions of this website to their fullest extent.</p>\n                        <h4>Processing of sensitive data</h4> \n                        <p>In some surveys we might additionally collect and analyze following sensitive data (according to Art. 9 Sect. GDPR):</p>\n                        <ul> \n                            <li> Ethnicity</li>\n                            <li> Political Opinions </li>\n                            <li> Religious Belief</li>\n                            <li> Ideology </li>\n                            <li> Health Data</li>\n                            <li> Party Affiliation </li>\n                            <li> Trade Union Affiliation </li> \n                            <li> Sexual Orientation</li>\n                        </ul> \n                        <p>However, the processing of this data only takes place, if a person answered the survey question asking for the respective content. Survey participant can always skip question or choose not to answer them. Legal Basis for the processing of sensitive data is Art. 9 Sect. 2 lit. a GDPR. Sensitive data will only be processed for the purpose of offering correct survey results.</p>\n                        <p> Partycipate uses Google Analytics. For more information about the handling of user data by Partycipate, please consult Partycipate&rsquo;s Data Privacy Declaration at: <a href={`${window.location.origin}${process.env.REACT_APP_PATH_PRIVACY_STATEMENT}`} target=\"_blank\"> Partycipate Data Privacy Declaration</a>.</p>\n                        <h4>Archiving period</h4>\n                        <p>Data on the user or incident level stored by Partycipate linked to cookies will be retained as long as needed or permitted in the light of the purpose it was obtained for and consistent with applicable law.</p>\n                    </div>\n                    <br/>\n                    <p>Alternatively, you can also copy the following HTML code snippet:</p>\n                    <CopyBlock\n                        className=\"code-block\"\n                        text={\n`\n<h3>Partycipate</h3>\n<p>This website uses functions of the online survey service Partycipate. The provider of this service is Partycipate AG (&bdquo;Partycipate&ldquo;), Roteb&uuml;hlplatz 41, Geb&auml;ude 1 70178 Stuttgart, Germany.</p>\n<p>Partycipate is a tool used to conduct surveys on this website. When participating in a survey only data transmitted by the browser in use will be stored and processed.</p>\n<p>Partycipate uses so-called cookies. Cookies are text files, which are stored on your computer and that enable an analysis of the use of the website by users. The information generated by cookies on your use of this website is usually transferred to a Partycipate server in Germany, where it is stored.</p>\n<p>The storage of Partycipate cookies and the utilization of this survey tool are based on Art. 6 Sect. 1 lit. f GDPR. The operator of this website has a legitimate interest in the analysis of conducted user surveys to optimize both, the services offered online and the operator&rsquo;s advertising activities. If a corresponding agreement has been requested (e.g. an agreement to the storage of cookies), the processing takes place exclusively on the basis of Art. 6 para. 1 lit. a GDPR; the agreement can be revoked at any time.</p>\n<p>You do have the option to prevent the archiving of cookies by making pertinent changes to the settings of your browser software. However, we have to point out that in this case you may not be able to use all of the functions of this website to their fullest extent.</p>\n<h4>Processing of sensitive data</h4> \n<p>In some surveys we might additionally collect and analyze following sensitive data (according to Art. 9 Sect. GDPR):</p>\n<ul> \n    <li> Ethnicity</li>\n    <li> Political Opinions </li>\n    <li> Religious Belief</li>\n    <li> Ideology </li>\n    <li> Health Data</li>\n    <li> Party Affiliation </li>\n    <li> Trade Union Affiliation </li> \n    <li> Sexual Orientation</li>\n</ul> \n<p>However, the processing of this data only takes place, if a person answered the survey question asking for the respective content. Survey participant can always skip question or choose not to answer them. Legal Basis for the processing of sensitive data is Art. 9 Sect. 2 lit. a GDPR. Sensitive data will only be processed for the purpose of offering correct survey results.</p>\n<p> Partycipate uses Google Analytics. For more information about the handling of user data by Partycipate, please consult Partycipate&rsquo;s Data Privacy Declaration at: <a href=\"${window.location.origin}${process.env.REACT_APP_PATH_PRIVACY_STATEMENT}\" target=\"_blank\"> Partycipate Data Privacy Declaration</a>.</p>\n<h4>Archiving period</h4>\n<p>Data on the user or incident level stored by Partycipate linked to cookies will be retained as long as needed or permitted in the light of the purpose it was obtained for and consistent with applicable law.</p>\n`\n                        }\n                        language={\"html\"}\n                        theme={dracula}\n                    />\n                </div>\n            ),\n        },\n        {\n            title: \"Do you have any advice for creating a good survey?\",\n            content: <p>\n                Make sure to use a question and answer possibilities that can be easily understood by your users. People often do not take the time to read thoroughly.<br/> \n                Think about your answer possibilites carefully. Have you included all possible options?<br/> \n                Ideally, you test your survey with someone prior to releasing it.\n            </p>,\n        },\n    ],\n}\n\nconst accountFAQs = {\n    title: \"My account\",\n    rows: [\n        {\n            title: \"How can I delete my account?\",\n            content: (\n                <p>\n                    If you want to delete your account, you can do so in the section <a href={process.env.REACT_APP_PATH_ACCOUNT_VIEW}>My Account</a>.<br/>\n                    Do think twice before you delete your account, your data can't be restored afterwards.\n                </p>\n            ),\n        },\n        {\n            title: \"How can I change my password?\",\n            content: <p>If you want to change your password, you can do so in the section <a href={process.env.REACT_APP_PATH_ACCOUNT_VIEW}>My Account</a>.</p>,\n        },\n        {\n            title: \"How can I change my name and e-mail?\",\n            content: <p>If you want to change your name and e-mail, you can do so in the section <a href={process.env.REACT_APP_PATH_ACCOUNT_VIEW}>My Account</a>.</p>,\n        },\n        {\n            title: \"Can I restore my account after deletion?\",\n            content: <p>No. We work according to the highest privacy and data security standards and will therefore delete all your data, if you chose to delete your account!</p>,\n        },\n    ],\n}\n\nconst additionalFAQs = {\n    title: \"Additional\",\n    rows: [\n        {\n            title: \"I have an additional question?\",\n            content: <p>Please, don't hesitate and <a href={process.env.REACT_APP_PATH_CONTACT}>contact us!</a></p>,\n        },\n    ],\n}\n\nconst styles = {\n    titleTextColor: \"#82a0aa\",\n    bgColor: 'transparent',\n    rowTitleColor: \"#82a0aa\",\n    arrowColor: \"#82a0aa\", \n}\n\n\nexport const HelpSections = {\n    about: \"about\",\n    createSurvey: \"create-survey\",\n    analyseSurvey: \"analyse-survey\",\n    account: \"account\",\n}\n\nexport function DocsView() {\n    const { id } = useParams()\n    \n    useEffect(() => {\n        if(!id) return\n        const faqSection = document.getElementById(id)\n        if(!faqSection) return\n        faqSection.scrollIntoView()\n    }, [id])\n\n    return (\n        <StandardPage title=\"FAQs: \" className=\"docs-view\">\n            <section id=\"about\" className=\"doc-section\">\n                <Faq data={generalFAQs()} styles={styles}/>\n            </section>\n            <section id=\"create-survey\" className=\"doc-section\">\n                <Faq data={createSurveyFAQs} styles={styles}/>\n            </section>\n            <section id=\"analyse-survey\" className=\"doc-section\">\n                <Faq data={analyseSurveysFAQs} styles={styles}/>\n            </section>\n            <section id=\"account\" className=\"doc-section\">\n                <Faq data={accountFAQs} styles={styles}/>\n            </section>\n            <section className=\"doc-section\">\n                <Faq data={additionalFAQs} styles={styles}/>\n            </section>\n        </StandardPage>\n    )\n}\n","import \"./style.css\"\nimport { CardElement } from \"../../utilElements\"\n\n\nexport default function DemoElement() {\n    return(\n        <div className=\"demo-element\">\n            <CardElement className=\"primary-element de-ce ce-multiple-choice\">\n                <span>Multiple-choice <br/>Surveys</span>\n                <div className=\"ce-separator\"/>\n                <img src={`${process.env.PUBLIC_URL}/images/Balkendiagramm.png`} alt=\"Image of bar chart\"/>\n            </CardElement>\n            <CardElement className=\"primary-element de-ce ce-single-choice\">\n                <span>Single-choice <br/>Surveys</span>\n                <div className=\"ce-separator\"/>\n                <img src={`${process.env.PUBLIC_URL}/images/Kreisdiagramm.png`} alt=\"Image of doughnut diagram\"/>\n            </CardElement>\n        </div>\n    )\n}","import \"./style.css\"\nimport { Link } from \"react-router-dom\"\nimport DemoElement from \"../DemoElement\"\nimport { StandardPage, YTVideo } from \"../../utilElements\"\n\n\nexport function HomeView(){\n  return(\n    <div className=\"home-view\">\n      <StandardPage containerClassName=\"hv-column\" className=\"first-column\" title={<span>Welcome to Partycipate  <br/> the easy-to-use, flexible Survey tool!</span>}>\n        <YTVideo url={process.env.REACT_APP_INTRO_VIDEO_URL} alt=\"Hello, we are Partycipate!\"/>\n        <p>Build your own survey using our intuitive module kit, embedd it to your website, and view your results in real-time!</p>\n        <div className=\"hv-actionbar\">\n          <Link className=\"link-button btn-dark\" to={process.env.REACT_APP_PATH_WHY_PARTICIPATE}>Learn more</Link>\n          <Link className=\"link-button btn-dark\" to={process.env.REACT_APP_PATH_SIGN_UP}>Register now</Link>\n        </div>\n      </StandardPage>\n      <div className=\"hv-column\">\n        <DemoElement/>\n      </div>\n    </div>\n  )\n}","import \"./style.css\"\nimport { StandardPage } from \"../../utilElements\"\nimport DemoElement from \"../DemoElement\"\n\n\nexport function WhyPartycipateView(){\n    return(\n        <div className=\"why-participate\">\n            <StandardPage containerClassName=\"wpv-column\" title=\"Why choose Partycipate? \">\n                <p>You want to investigate a question, receive feedback on a product/service or measure customer satisfaction?</p>\n                <p>At the same time you do not have the time or resources to dive deeper into the development of surveys?</p>\n                <p>Welcome to Partycipate, where you neither have to worry about technology or choosing the right survey type.</p>\n            </StandardPage>\n            <div className=\"wpv-column\">\n                <DemoElement/>\n            </div>\n        </div>\n    )\n}","import { useRef, useEffect } from 'react'\nimport Chart from 'chart.js'\n\n\nexport default function CrossSurveyTimelineChart({ data:results, ...props }) {\n    const chartRef = useRef()\n\n    useEffect(() => {\n        const chart = new Chart(chartRef.current, {\n                type: \"line\",\n                data: getData(results),\n                options: getChartOptions(),\n            }\n        )\n        // 101 miliseconds, because the sidebar needs 100 ms to expand.\n        setTimeout(() => chart.resize(), 101)\n    }, [])\n    \n    return (\n        <div className=\"cross-survey-results-timeline-chart\" {...props}>\n            <canvas ref={chartRef}></canvas>\n        </div>\n    )\n}\n\n\nconst getData = (results) => {\n    const data = {\n        labels: results.map(result => new Intl.DateTimeFormat(window.navigator.language || \"en\").format(result.datetime)),\n        datasets: [\n            {\n                data: results.map(result => result.count),\n                borderColor: \"#BBD9DB\",\n                hoverBackgroundColor: \"#a1c1c2\",\n                backgroundColor: \"#BBD9DB77\",\n                borderWidth: 5,\n                fill: true,\n                label: \"Participants\",\n            },\n        ],\n    }\n    return data\n}\n\n\nconst getChartOptions = () => {\n    const options = {\n        responsive: true,\n        maintainAspectRatio: true,\n        aspectRatio: window.innerWidth / (window.innerHeight/2) < 1.5 ? 1.5 : window.innerWidth / (window.innerHeight/2),\n        legend: { display: false },\n        tooltips: {\n            callbacks: {\n                label: (item, data) => {\n                    const votes = item.value\n                    const label = data.datasets[item.datasetIndex].label\n                    return [`${votes} Participants`]\n                },\n            },\n            custom: tooltip => {\n                if (!tooltip) return\n                // Disable color box\n                tooltip.displayColors = false\n            },\n        },\n        scales: {\n            yAxes: [{\n                ticks: {\n                    stepSize: 1,\n                    beginAtZero: true,\n                    callback: label => `${label} Participants`,\n                },\n                stacked: false,\n            }]\n        },\n    }\n    return options\n}","import \"./style.css\"\nimport { useEffect, useRef } from \"react\"\nimport * as am4core from \"@amcharts/amcharts4/core\"\nimport * as am4maps from \"@amcharts/amcharts4/maps\"\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\"\nimport am4geodata_worldLow from \"@amcharts/amcharts4-geodata/worldLow\"\n\n\nam4core.useTheme(am4themes_animated)\n\n\nexport default function GeoChart({ data=[], className=\"\", ...props }) {\n    const cartElementContainerRef = useRef()\n    const cartElementRef = useRef()\n    var chart\n    var polygonSeries\n    var heatLegend\n\n\n    useEffect(() => {\n        const chartEl = cartElementRef.current\n        if (!chartEl) return\n        \n        chart = am4core.create(chartEl, am4maps.MapChart)\n        configureChart(chart)\n        polygonSeries = addPolygonSeries(chart)\n        heatLegend = addHeatLegend(chart, polygonSeries)\n        return () => chart.dispose()\n    }, [])\n\n\n    // Color preference listener\n    useEffect(() => {\n        const mql = window.matchMedia(\"(prefers-color-scheme: dark)\")\n        adaptChartColorScheme(mql.matches)\n        const listener = event => adaptChartColorScheme(event.matches)\n        mql.addEventListener(\"change\", listener)\n        return () => mql.removeEventListener(\"change\", listener)\n    }, [])\n\n\n    function adaptChartColorScheme(isDark) {\n        // Configure zoom control\n        const backgroundColor = isDark ? \"#999\" : \"#ddd\"\n        const strokeColor = isDark ? \"#ddd\" : \"#0000\"\n        chart.zoomControl.plusButton.background.fill = am4core.color(backgroundColor)\n        chart.zoomControl.plusButton.background.stroke = am4core.color(strokeColor)\n        chart.zoomControl.minusButton.background.fill = am4core.color(backgroundColor)\n        chart.zoomControl.minusButton.background.stroke = am4core.color(strokeColor)\n        chart.zoomControl.slider.children.each(element => {\n            element.background.fill = am4core.color(backgroundColor)\n            element.background.stroke = am4core.color(strokeColor)\n        })\n        if (polygonSeries) {\n            let polygonTemplate = polygonSeries.mapPolygons.template\n            polygonTemplate.fill = am4core.color(isDark ? \"#777\" : \"#d9d9d9\")\n            polygonTemplate.stroke = am4core.color(isDark ? \"#bbb\" : \"#fff\")\n        }\n        addData()\n        chart.smallMap.series.pop()\n        chart.smallMap.series.push(polygonSeries)\n    }\n\n\n    function addData() {\n        const copyOfDataArray = data.slice(0, data.length)\n        polygonSeries.data = copyOfDataArray\n        // Set value for each undefinded to 0; needs to be in a timeout because am4Chart needs to add missing countries.\n        setTimeout(() => copyOfDataArray.forEach(data => {if (data.value === undefined) data.value = 0}), 100)\n    }\n    \n\n\n    // Resize if chart width passes 900px.\n    useEffect(() => {\n        function resizeContainer() {\n            const container = cartElementContainerRef.current\n            if (!container) return\n            if (container.offsetWidth >= 900) container.classList.add(\"large\")\n            else container.classList.remove(\"large\")\n        }\n        resizeContainer()\n        window.addEventListener(\"resize\", resizeContainer)\n        return () => window.removeEventListener(\"resize\", resizeContainer)\n    }, [])\n    \n\n    return (\n        <div ref={cartElementContainerRef} className={`geo-chart-container ${className}`} {...props}>\n            <div ref={cartElementRef} className=\"geo-chart\"/>\n        </div>\n    )\n}\n\n\nfunction configureChart(chart) {\n    chart.geodata = am4geodata_worldLow\n    chart.projection = new am4maps.projections.Mercator()\n    chart.zoomControl = new am4maps.ZoomControl()\n    chart.zoomControl.slider.height = 60    \n    chart.smallMap = new am4maps.SmallMap()\n    chart.smallMap.background.fill = am4core.color(\"#0000\")\n}\n\n\nfunction addPolygonSeries(chart) {\n    let polygonSeries = new am4maps.MapPolygonSeries()\n    // Configure series\n    polygonSeries.useGeodata = true\n    chart.series.push(polygonSeries)\n    chart.chartContainer.wheelable = false\n    // Exclude Antarctica\n    polygonSeries.exclude = [\"AQ\"]\n    // Configure heatmap\n    polygonSeries.heatRules.push({\n        \"property\": \"fill\",\n        \"target\": polygonSeries.mapPolygons.template,\n        \"min\": am4core.color(\"#deeced\"),\n        \"max\": am4core.color(\"#243e42\")\n    })\n\n    // Configure series\n    polygonSeries.mapPolygons.template.tooltipText = \"{name}: {value} Participants\"\n    return polygonSeries\n}\n\n\nfunction addHeatLegend(chart, polygonSeries) {\n    let heatLegend = chart.createChild(am4maps.HeatLegend)\n    heatLegend.series = polygonSeries\n    heatLegend.align = \"center\"\n    heatLegend.valign = \"top\"\n    heatLegend.dy = -15\n    heatLegend.width = am4core.percent(60)\n    heatLegend.valueAxis.renderer.opposite = true\n    heatLegend.valueAxis.strictMinMax = false\n    heatLegend.valueAxis.fontSize = 10\n    return heatLegend\n}","import \"./style.css\"\nimport { useState, useEffect } from \"react\"\nimport { CardElement, PaginationElement } from \"../../../utilElements\"\nimport Server from \"../../../Server\"\nimport CrossSurveyTimelineChart from \"./CrossSurveyTimelineChart\"\nimport GeoChart from \"../../GeoChart\"\n\n\nexport default function CrossSurveyResultsCard({ className=\"\", ...props }) {\n    const [timelineResults, setTimelineResults] = useState()\n    const [mapResults, setMapResults] = useState()\n\n    useEffect(() => {\n        Server.database().getCrossSurveyMapResults()\n        .then(setMapResults)\n        .catch(() => {})\n\n        Server.database().getCrossSurveyTimelineResults()\n        .then(setTimelineResults)\n        .catch(() => {})\n    }, [])\n    \n\n    if (mapResults && timelineResults) return (\n        <CardElement className={`cross-survey-results-card primary-element ${className}`} {...props}>\n            <PaginationElement>\n                <MapResultsCard data={mapResults}/>\n                <TimelineResultsCard timelineResults={timelineResults}/>\n            </PaginationElement>\n        </CardElement>\n    )\n    else return <div/>\n}\n\n\nfunction MapResultsCard({data}) {\n    return (\n        <div>\n            <h2>Overall participants</h2>\n            <GeoChart data={data} className=\"csrc-map\"/>\n        </div>\n    )\n}\n\n\nfunction TimelineResultsCard({timelineResults}) {\n    return (\n        <div>\n            <h2>Participants over time</h2>\n            <CrossSurveyTimelineChart data={timelineResults}/>\n        </div>\n    )\n}","import \"./style.css\"\nimport { Link } from \"react-router-dom\"\nimport { CardElement, StandardPage } from \"../../utilElements\"\nimport CrossSurveyResultsCard from \"./CrossSurveyResultsCard\"\nimport { useMemo } from \"react\"\nimport Server from \"../../Server\"\n\n\nexport function DashboardView() {\n  const participantName = useMemo(() => Server.auth().currentUser().name, [])\n  return(\n    <StandardPage className=\"dashboard-view\" title={`Welcome back, ${participantName || \"Partycipant\"}!`}>\n      <CrossSurveyResultsCard/>\n      <p>What do you want to do today?</p>\n      <div className=\"dv-cards\">\n        <CardElement className=\"secondary-element link-light dv-card\"><Link to={process.env.REACT_APP_PATH_CREATE_SURVEY} >Create a brandnew survey </Link></CardElement>\n        <CardElement className=\"secondary-element link-light dv-card\"><Link to={process.env.REACT_APP_PATH_SURVEY_OVERVIEW}>View results of your surveys </Link></CardElement>\n        <CardElement className=\"secondary-element link-light dv-card\"><Link to={process.env.REACT_APP_PATH_ACCOUNT_VIEW}>Change settings of your account </Link></CardElement>\n        <CardElement className=\"secondary-element link-light dv-card\"><Link to={process.env.REACT_APP_PATH_DOCS}>Get help in our FAQs </Link></CardElement>\n      </div>\n    </StandardPage>\n  )\n}\n","import Server from \"../Server\"\nimport { HelpSections } from \"../PublicApp\"\nimport { ListView } from \"../utilElements\"\n\n\nexport function SurveyOverview() {\n    const handleFilter = (survey, searchInput) => survey.title.toLowerCase().includes(searchInput)\n    return (\n        <ListView \n            title=\"Your Surveys\"\n            helpSection={HelpSections.analyseSurvey}\n            errorMessage=\"We are sorry, your surveys couldn't be loaded!\"\n            listItemContent={survey => survey.title}\n            linkForItem={survey => `${process.env.REACT_APP_PATH_SURVEY_OVERVIEW}/${survey.id}`}\n            onLoad={Server.database().getSurveys}\n            onFilter={handleFilter}\n        />\n    )\n}","import React from \"react\"\n\nconst SurveyContext  = React.createContext(undefined)\nexport default SurveyContext\nexport const SurveyProvider = SurveyContext.Provider","import \"./style.css\"\nimport { useContext } from \"react\"\nimport { v4 as uuid } from \"uuid\"\nimport SurveyContext from \"./SurveyContext\"\nimport { CardElement } from \"../../utilElements\"\n\n\nexport default function SelectSurveyComponent({ onTypeSelected }) {\n    const { survey, updateSurvey } = useContext(SurveyContext)\n\n    const onChooseSurveyType = type => {\n        const element = survey.elements[0]\n        if (element) element.type = type\n        else survey.elements.push({ id: uuid(), type: type, question: \"\", answer_possibilities: [\"\"], may_skip: true, })\n        updateSurvey(survey)\n        onTypeSelected()\n    }\n\n    return(\n        <div>\n            <CardElement className=\"primary-element link-light\" onClick={() => onChooseSurveyType(\"single-choice\")}>Single-choice</CardElement>\n            <CardElement className=\"primary-element link-light\" onClick={() => onChooseSurveyType(\"multiple-choice\")}>Multiple-choice</CardElement>\n        </div>\n    )\n}","import \"./style.css\"\nimport { useContext, useEffect, useState } from \"react\"\nimport { FiChevronDown, FiTrash2 } from \"react-icons/fi\"\nimport { MdDragHandle } from \"react-icons/md\"\nimport { usePopper } from 'react-popper'\nimport { v4 as uuid } from \"uuid\"\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\"\nimport SurveyContext from \"../../../../../SurveyContext\"\n\n\nexport function XCoiceBlock({ elementIndex }) {\n    const { survey, updateSurvey, showErrors } = useContext(SurveyContext)\n    const element = survey.elements[elementIndex]\n    const answer_possibilities = element.answer_possibilities\n    const [focusOnLastAnswer, setFocusOnLastAnswer] = useState(false)\n\n    // Add popper to ElementTypeSelection pane\n    const [etsButton, setETSButton] = useState()\n    const [etsPane, setETSPane] = useState()\n    const { styles, attributes, update } = usePopper(etsButton, etsPane, { modifiers: [{ name: 'offset', options: { offset: [0, 5] }}] })\n    const [showETSPane, setShowETSPane] = useState(false)\n\n    const toggleETSPane = () => {\n        setShowETSPane(!showETSPane)\n        update()\n    }\n\n    const updateElementType = type => {\n        toggleETSPane()\n        element.type = type\n        survey.elements[elementIndex] = element\n        updateSurvey(survey)\n    }\n\n    // Set flag to focus last answer to false after rerender rerender \n    useEffect(() => setFocusOnLastAnswer(false))\n    \n\n    const handleKeyDown = (event, index) => { if(index === answer_possibilities.length - 1 && event.key === \"Enter\") createAnswer() }\n\n\n    const createAnswer = () => {\n        // Set flag to focus last answer on rerender\n        setFocusOnLastAnswer(true)\n        // Add new answer\n        answer_possibilities.push(\"\")\n        survey.elements[elementIndex].answer_possibilities = answer_possibilities\n        updateSurvey(survey)\n    }\n\n    const moveAnswer = result => {\n        const { destination, source } = result\n        if (!destination) return\n        if (destination.droppableId === source.droppableId && destination.index === source.index) return\n        const draggedAnswers = answer_possibilities.splice(source.index, 1)\n        answer_possibilities.splice(destination.index, 0, draggedAnswers[0])\n        updateSurvey(survey)\n    }\n\n    const updateAnswer = (event, index) => {\n        answer_possibilities[index] = event.target.value\n        survey.elements[elementIndex].answer_possibilities = answer_possibilities\n        updateSurvey(survey)\n    }\n\n    const deleteAnswer = index => {\n        answer_possibilities.splice(index, 1)\n        survey.elements[elementIndex].answer_possibilities = answer_possibilities\n        updateSurvey(survey)\n    }\n\n\n    return (\n        <DragDropContext onDragEnd={moveAnswer}>\n            <div className=\"xchoice-block\">\n                <div className=\"xcb-header\">\n                    <label>Set your answer possibilities</label>\n                    <button className=\"btn-dark btn-icon-right\" ref={ setETSButton } onClick={ toggleETSPane }>{ getTypeLabelFor(element.type) }<FiChevronDown/></button>\n                    <ElementTypeSelection className={ showETSPane ? \"show\" : \"\" } onChange={updateElementType} elementRef={setETSPane} style={ styles.popper } {...attributes.popper}/>\n                </div>\n                <Droppable droppableId=\"answer-list\">\n                    { provided => (\n                        <div ref={provided.innerRef} {...provided.droppableProps}>\n                            { Array.isArray(answer_possibilities) && answer_possibilities.map((answer, index) => (\n                                <AnswerOption\n                                    answer={answer} \n                                    index={index} \n                                    focus={index === (answer_possibilities.length - 1) && focusOnLastAnswer}\n                                    onUpdate={updateAnswer} \n                                    onKeyDown={handleKeyDown}\n                                    onDelete={deleteAnswer}\n                                    key={index}\n                                />\n                            ))}\n                            { provided.placeholder }\n                        </div>\n                    )}\n                </Droppable>\n                <button className=\"button btn-dark create-answer-btn\" title=\"Add Answer\" onClick={createAnswer}>Add answer</button>\n            </div>\n        </DragDropContext>\n    )\n}\n\n\nconst getTypeLabelFor = (type) => {\n    switch(type) {\n        case XChoiceTypes.singleChoice: return \"Single Choice\"\n        case XChoiceTypes.multipleChoice: return \"Multiple Choice\"\n        default: return type\n    }\n}\n\n\nfunction ElementTypeSelection({ className = \"\", elementRef, onChange, ...props }) {\n    return (\n        <div className={ `xcb-element-type-selection ${className}` } ref={ elementRef } { ...props}>\n            { Object.keys(XChoiceTypes).map( (key, index) => {\n                const type = XChoiceTypes[key]\n                return <button className=\"btn-light\" key={ index } onClick={ () => onChange(type) }><div className=\"item\">{ getTypeLabelFor(type) }</div></button>\n            }) }            \n        </div>\n    )\n}\n\n\nfunction AnswerOption({answer, index, focus, onUpdate, onKeyDown, onDelete}) {\n    const { showErrors } = useContext(SurveyContext)\n    return (\n        <Draggable draggableId={`${index}`} index={index} key={index}>\n            { provided => (\n                <div className=\"answer-option\" ref={provided.innerRef} {...provided.draggableProps}>\n                    <div>\n                        <div {...provided.dragHandleProps}><MdDragHandle/></div>\n                        <input\n                            autoFocus={focus} \n                            type=\"text\" className=\"input answer-input\" \n                            placeholder={`Answer ${index + 1}`}\n                            value={answer} \n                            onChange={event => onUpdate(event, index) } \n                            onKeyDown={event => onKeyDown(event, index)}\n                        />\n                        <button className=\"item btn-light trash-btn\" title=\"Delete Answer\" onClick={() => onDelete(index)}><FiTrash2/></button>\n                    </div>\n                    {(showErrors && !answer) && <small className=\"error\">No answer provided.</small>}\n                </div>\n            )}\n        </Draggable>\n    )\n}\n\n\nconst XChoiceTypes = {\n    singleChoice: \"single-choice\", \n    multipleChoice: \"multiple-choice\"\n}","import \"./style.css\"\nimport { useContext } from \"react\"\nimport SurveyContext from \"../../../SurveyContext\"\nimport { XCoiceBlock } from \"./content-blocks\"\n\n\nexport function QuestionElement({ index, className=\"\", ...props }) {\n    const { survey, updateSurvey, showErrors } = useContext(SurveyContext)\n    const element = survey.elements[index]\n\n    const updateQuestion = event => {\n        element.question = event.target.value\n        survey.elements[index] = element\n        updateSurvey(survey)\n    }\n\n    return (\n        <div className={`question-element ${className}`} { ...props }>\n            <label>Define your question</label>\n            <input className=\"input s-question-input\" type=\"text\" value={ element.question } placeholder=\"Question\" onChange={ updateQuestion }/>\n            { (showErrors && !element.question) && <small className=\"error\">No question provided.</small> }\n            <XCoiceBlock elementIndex={ index } />\n        </div>\n    )\n}\n","import \"./style.css\"\nimport { FiTrash2 } from \"react-icons/fi\"\nimport { IoDuplicateOutline } from \"react-icons/io5\"\nimport { MdDragHandle } from \"react-icons/md\"\nimport { Draggable } from \"react-beautiful-dnd\"\nimport { QuestionElement } from \"../survey-elements\"\nimport { CardElement } from \"../../../../utilElements\"\n\n\nexport default function SurveyElement({element, index, onDuplicate, onDelete}) {\n    return (\n        <Draggable draggableId={element.id} index={index}>\n            { provided => (\n                <div className=\"survey-element-container\" ref={provided.innerRef} {...provided.draggableProps}>\n                    <div className=\"drag-handle-container\">\n                        <div {...provided.dragHandleProps}><MdDragHandle/></div>\n                    </div>\n                    <div className=\"element-content-container\">\n                        <CardElement className=\"primary-element\">\n                            <QuestionElement className=\"survey-element\" index={index} key={index}/>\n                        </CardElement>\n                        <div className=\"sec-toolbar\">\n                            <button className=\"btn-dark\" title=\"Duplicate Element\" onClick={() => onDuplicate(index)}><IoDuplicateOutline/></button>\n                            <button className=\"btn-dark\" title=\"Delete Element\" onClick={() => onDelete(index)}><FiTrash2/></button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </Draggable>\n    )\n}","import \"./style.css\"\nimport { useContext } from \"react\"\nimport { v4 as uuid } from \"uuid\"\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\"\nimport SurveyContext from \"../SurveyContext\"\nimport SurveyElement from \"./SurveyElement\"\n\n\nexport default function EditSurveyComponent() {\n    const { survey, updateSurvey, showErrors } = useContext(SurveyContext)\n\n    const updateName = event => {\n        survey.title = event.target.value\n        updateSurvey(survey)\n    }\n\n    function addElement() {\n        const elements = survey.elements\n        if (!Array.isArray(elements)) return\n        elements.push({ id: uuid(), type: \"single-choice\", question: \"\", answer_possibilities: [\"\"], may_skip: false, })\n        updateSurvey(survey)\n    }\n\n    function duplicateElement(index) {\n        const elements = survey.elements\n        if (!Array.isArray(elements)) return\n        const oldElement = elements[index]\n        const newElement = Object.assign({}, oldElement)\n        const oldAnswerPossibilities = oldElement.answer_possibilities\n        newElement.answer_possibilities = oldAnswerPossibilities.slice(0, oldAnswerPossibilities.length)\n        newElement.id = uuid()\n        elements.push(newElement)\n        updateSurvey(survey)\n    }\n\n    function moveElement(result) {\n        const { destination, source } = result\n        if (!destination) return\n        if (destination.droppableId === source.droppableId && destination.index === source.index) return\n        const elements = survey.elements\n        const draggedElements = elements.splice(source.index, 1)\n        elements.splice(destination.index, 0, draggedElements[0])\n        updateSurvey(survey)\n    }\n\n    function deleteElement(index) {\n        const elements = survey.elements\n        if (!Array.isArray(elements)) return\n        elements.splice(index, 1)\n        elements.forEach((element, index) => element.position = index)\n        updateSurvey(survey)\n    }\n    \n    return (\n        <div className=\"edit-survey-component\">\n            <label>Survey name</label>\n            <input className=\"s-name-input\" type=\"text\" value={ survey.title } placeholder=\"Name\" onChange={ updateName }/>\n            <small className={(showErrors && !survey.title) ? \"error\" : \"\"}>{(showErrors && !survey.title) && \"The name is empty. \"}The name will not be shown to the user.</small>\n            <DragDropContext onDragEnd={moveElement}>\n                <div>\n                    <Droppable droppableId=\"element-list\">\n                        { provided => (\n                            <div ref={provided.innerRef} {...provided.droppableProps}>\n                                {survey.elements.map((element, index) => <SurveyElement element={element} index={index} onDuplicate={duplicateElement} onDelete={deleteElement} key={element.id}/>)}\n                                {provided.placeholder}\n                            </div>\n                        )}\n                    </Droppable>\n                </div>\n            </DragDropContext>\n            <button className=\"btn-dark\" onClick={addElement}>Add Question</button>\n        </div>\n    )\n}","import \"./style.css\"\nimport { useContext } from \"react\"\nimport { HelpSections } from \"../../../PublicApp\"\nimport SurveyContext from \"../SurveyContext\"\nimport { CopyBlock, dracula } from \"react-code-blocks\"\n\n\n export default function ImplementSurveyComponent() {\n    const { survey } = useContext(SurveyContext)\n    const headCode = \n`<!-- Insert in head -->\n<script src=\"${process.env.REACT_APP_SNIPPET_SCRIPT_URL}\"></script>`\n\n    const divCode = \n`<!-- Insert in body where you want to display your survey -->\n<partycipate-survey survey-id=\"${survey.id}\"/>`\n\n    return (\n        <div className=\"implement-survey-component\">\n            <p>To implement your survey in any website, insert the following code:</p>\n            <CopyBlock\n                className=\"code-block\"\n                text={headCode}\n                language={\"html\"}\n                theme={dracula}\n            />\n            <CopyBlock\n                text={divCode}\n                language={\"html\"}\n                theme={dracula}\n            />\n            <p>To be compliant with the GDPR, please adapt your privacy and cookie statement accordingly. For further help please <a href={`${window.location.origin}${process.env.REACT_APP_PATH_DOCS}/${HelpSections.createSurvey}`} target=\"_blank\">click here</a>.</p>\n        </div>\n    )\n}","\nconst CreateSurveyError = {\n    titleIsEmpty: \"titleIsEmpty\",\n    unknown: \"unknown\",\n}\n\nexport default CreateSurveyError ","import './style.css'\nimport React from \"react\"\nimport { withRouter } from \"react-router-dom\"\nimport { v4 as uuid } from \"uuid\"\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\"\nimport Server from \"../../Server\"\nimport { Notification, CardElement, StandardPage } from \"../../utilElements\"\nimport { SurveyProvider } from \"./SurveyContext\"\nimport SelectSurveyComponent from \"./SelectSurveyComponent\"\nimport EditSurveyComponent from \"./EditSurveyComponent\"\nimport ImplementSurveyComponent from \"./ImplementSurveyComponent\"\nimport CreateSurveyError from \"./CreateSurveyError\"\n\n\nclass CreateSurveyViewComponent extends React.Component {\n    \n    constructor(props) {\n        super(props)\n        this.props = props\n        \n        const element = { id: uuid(), type: \"\", question: \"\", answer_possibilities: [\"\"], may_skip: true, }\n        const survey = { \n            creation_date: new Date().toISOString(), \n            title: \"\", \n            elements: [ element ],\n        }\n        this.state = {\n            survey: survey,\n            updateSurvey: survey => this.setState(() => ({ survey: survey })),\n            step: 0,\n            isSaving: false,\n            statusMessage: null,\n        }\n    }\n\n    goBack = () => this.setState(state => ({ step: this.state.step - 1 }))\n\n    goForward = () => {\n        if (this.state.step === 1) this.saveSurvey()\n        else if (this.state.step === 2) return this.props.history.push(`/surveys/${this.state.survey.id}`)\n        else this.setState(() => ({ step: this.state.step + 1 }))\n    }\n\n    saveSurvey() {\n        const survey = this.state.survey\n        if (!this.validateSurvey()) return\n        this.prepareSurveyForSaving()\n        this.setState(() => ({ statusMessage: \"Saving Survey\", isSaving: true }))\n        Server.database().createSurvey(survey)\n        .then(surveyID => {\n            this.state.survey.id = surveyID\n            this.state.updateSurvey(survey)\n            this.setState(() => ({ step: this.state.step + 1 }))\n            this.setState(() => ({ statusMessage: null }))\n        })\n        .catch(() => {\n            this.setState(() => ({ creationErrorOccured: true, statusMessage: \"Your survey couldn't be saved. Please try again in some minutes.\" }))\n            setTimeout(() => this.setState(() => ({ statusMessage: null })), 5000)\n        })\n        .finally(() => this.setState(() => ({ isSaving: false })))\n    }\n\n    validateSurvey() {\n        const survey = this.state.survey\n        if (!survey.title) return this.setState(() => ({ showErrors: true }))\n        const elementsHasErrors = survey.elements.some(element => !this.validateElement(element))\n        if (elementsHasErrors) return this.setState(() => ({ showErrors: true }))\n        return true\n    }\n\n    validateElement(element) {\n        if (!element.question) return\n        return !element.answer_possibilities.some(answerPossibility => !answerPossibility)\n    }\n\n    prepareSurveyForSaving() {\n        const survey = this.state.survey\n        survey.elements.forEach((element, index) => {\n            element.position = index + 1\n            switch (element.type) {\n                case \"multiple-choice\":\n                case \"single-choice\":\n                    element.answer_possibilities = element.answer_possibilities.map((answer, index) => ({position: index + 1, answer: answer }))\n                default: break\n            }\n        })\n    }\n\n\n    render() {\n        return (\n            <StandardPage title={getSurveyTitle(this.state.step)} className=\"create-survey-view\" helpSection=\"create-survey\">\n                <SurveyProvider value={ this.state }>\n                    <CardElement className=\"secondary-element\">\n                        <SurveyComponent step={ this.state.step } onTypeSelected={ () => this.setState(() => ({ step: 1 })) } errors={this.state.errors}/>\n                    </CardElement>\n                    <CSVToolbar step={ this.state.step } statusMessage={ this.state.statusMessage } creationErrorOccured={ this.state.creationErrorOccured } onGoBack={ this.goBack.bind(this) } onGoForward={ this.goForward.bind(this) } isSaving={ this.state.isSaving }/>\n                </SurveyProvider>\n            </StandardPage>\n        )\n    }\n}\n\n\nexport const CreateSurveyView = withRouter(CreateSurveyViewComponent)\n\n\nfunction getSurveyTitle(step) {\n    switch (step) {\n        case 0: return \"1 - Choose your survey type\"\n        case 1: return \"2 - Specify the details of your survey\"\n        case 2: return \"3 - Implement your survey\"\n        default: throw Error(\"No applicable step selected.\")\n    }\n}\n\n\n\nfunction SurveyComponent({ step, onTypeSelected, errors }) {\n    switch (step) {\n        case 0: return <SelectSurveyComponent onTypeSelected={ onTypeSelected } errors={errors}/>\n        case 1: return <EditSurveyComponent errors={errors}/>\n        case 2: return <ImplementSurveyComponent errors={errors}/>\n        default: throw Error(\"No applicable step selected.\")\n    }\n}\n\n\nfunction CSVToolbar({ step, statusMessage, onGoBack, onGoForward, isSaving }) {\n    return (\n        <div className=\"csv-toolbar\">\n            { step === 1 && <button className=\"btn-light btn-icon-left\" disabled={isSaving} onClick={onGoBack}><FiChevronLeft/>Back</button> }\n            { step >= 1  && <button className=\"btn-light btn-icon-right\" disabled={isSaving} onClick={onGoForward}>{ step === 1 ? \"Save\" : \"Finish\" }<FiChevronRight/></button> }\n            <Notification show={statusMessage}><p>{statusMessage}</p></Notification>\n        </div>\n        \n    )\n}\n","export const getBGColors = length => {\n    const factor = 100/(length + 1)\n    const bgColors      = []\n    const hoverBGColors = []\n    var i\n    for (i = 1; i <= length; i++) {\n        bgColors.push(`hsl(184, 31%, ${100 - i * factor}%)`)\n        hoverBGColors.push(`hsl(184, 31%, ${100 - i * factor + 0.5 * factor}%)`)\n    }\n    return [bgColors, hoverBGColors]\n} ","import \"./style.css\"\nimport { useRef, useEffect } from 'react'\nimport Chart from 'chart.js'\nimport { getBGColors } from \"../utils\"\n\n\nexport default function DoughnutChart({ element }) {\n    const chartRef  = useRef()\n    const legendRef = useRef()\n\n\n    useEffect(() => {\n        const chart = new Chart(chartRef.current, {\n                type: \"doughnut\",\n                data: getData(element),\n                options: getChartOptions(element),\n            }\n        )\n        legendRef.current.innerHTML = chart.generateLegend()\n        // 101 miliseconds, because the sidebar needs 100 ms to expand.\n        setTimeout(() => chart.resize(), 101)\n    }, [])\n\n    \n    return (\n        <div className=\"doughnut-chart\">\n            <canvas ref={ chartRef } style={{maxWidth: \"40%\"}}></canvas>\n            <div className=\"legend\" ref={ legendRef }></div>\n        </div>\n    )\n}\n\n\nconst getData = ({ answer_possibilities, results }) => {\n    const [bgColors, hoverBGColors] = getBGColors(answer_possibilities.length)\n    const data = {\n        labels: answer_possibilities.map(possibility => possibility.answer),\n        datasets: [{\n                //Mapping is necessary since Chartjs fills it with additional data\n                data: results.map(result => result),\n                backgroundColor: bgColors,\n                borderColor: 'transparent',\n                hoverBackgroundColor: hoverBGColors,\n                borderWidth: 1,\n        }],\n    }\n    return data\n}\n\n\nconst getChartOptions = ({ results, count_participants }) => {\n    const formatter = new Intl.NumberFormat(window.navigator.language || \"en\", { style: 'percent', maximumFractionDigits: 0 })\n    const options = {\n        maintainAspectRatio: true,\n        legend: { display: false },\n        legendCallback: chart => {\n            var html = \"\"\n            const dataset = chart.data.datasets[0]\n            dataset.data.forEach((data, index) => {\n                html += `\n                <div class=\"legend-item\">\n                    <div class=\"li-colorbox\" style=\"background-color: ${dataset.backgroundColor[index]};\"></div>\n                    <div class=\"li-label\">${chart.data.labels[index]}</div>\n                </div>`\n            })\n            return html\n        },\n        tooltips: {\n            enabled: true,\n            mode: 'single',\n            callbacks: {\n                label: (item, data) => {\n                    const percentage = data.datasets[item.datasetIndex].data[item.index] / count_participants\n                    const percentageString = formatter.format(percentage)\n                    const votes = results[item.index]\n                    return [`${percentageString} (${votes} Votes)`]\n                },\n            },\n            custom: tooltip => {\n                if (!tooltip) return\n                // Disable color box\n                tooltip.displayColors = false\n\n                // Make tooltip body as title\n                const body = tooltip.body\n                if (body && body.length > 0) {\n                    tooltip.title = body[0].lines\n                    body[0].lines = []\n                }\n            },\n        },\n    }\n\n    return options\n}","import { useRef, useEffect, useMemo, useState } from 'react'\nimport Chart from 'chart.js'\nimport { getBGColors } from \"./utils\"\n\n\nexport default function BarChart({ element }) {\n    const chartRef = useRef()\n    const mql = useMemo(() => window.matchMedia(\"(prefers-color-scheme: dark)\"), [])\n    const [chart, setChart] = useState() \n\n    useEffect(() => {\n        const chart = new Chart(chartRef.current, {\n                type: \"bar\",\n                data: getData(element),\n                options: getChartOptions(element, mql.matches),\n            }\n        )\n        setChart(chart)\n        // 101 miliseconds, because the sidebar needs 100 ms to expand.\n        setTimeout(() => chart.resize(), 101)\n    }, [])\n\n\n    // Color preference listener\n    useEffect(() => {\n        const listener = event => adaptChartColorScheme(chart, event.matches)\n        mql.addEventListener(\"change\", listener)\n        return () => mql.removeEventListener(\"change\", listener)\n    }, [chart])\n\n    function adaptChartColorScheme(chart, isDark) {\n        const fontColor = isDark ? \"#eee\" : \"#444\"\n        chart.options.legend.labels.fontColor = fontColor\n        chart.options.scales.xAxes[0].ticks.fontColor = fontColor\n        chart.options.scales.yAxes[0].ticks.fontColor = fontColor\n        chart.update()\n    }\n\n    \n    return <canvas className=\"bar-chart\" ref={ chartRef }></canvas>\n}\n\n\nconst getData = ({ answer_possibilities, results, count_participants }) => {\n    const dataItems = results.map(item => item/count_participants)\n    const [bgColors, hoverBGColors] = getBGColors(answer_possibilities.length)\n    const data = {\n        labels: answer_possibilities.map(possibility => possibility.answer),\n        datasets: [{\n                data: dataItems,\n                backgroundColor: bgColors,\n                borderColor: 'transparent',\n                hoverBackgroundColor: hoverBGColors,\n                borderWidth: 1,\n        }],\n    }\n    return data\n}\n\n\nconst getChartOptions = ({ results }, isDark) => {\n    const textColor = isDark ? \"#eee\" : \"#444\"\n    const formatter = new Intl.NumberFormat(window.navigator.language || \"en\", { style: 'percent', maximumFractionDigits: 0 })\n\n    const options = {\n        responsive: true,\n        maintainAspectRatio: true,\n        aspectRatio: window.innerWidth / (window.innerHeight/2) < 1.5 ? 1.5 : window.innerWidth / (window.innerHeight/2),\n        legend: { \n            display: false,\n            labels: {\n                fontColor: textColor,\n            }\n         },\n        tooltips: {\n            enabled: true,\n            mode: 'single',\n            callbacks: {\n                title: ([item], data) => {\n                    const percentage = data.datasets[item.datasetIndex].data[item.index]\n                    const percentageString = formatter.format(percentage)\n                    const votes = results[item.index]\n                    return [`${percentageString} (${votes} Votes)`]\n                },\n                label: () => {},\n            },\n            custom: tooltip => {\n                if (!tooltip) return\n                // Disable color box\n                tooltip.displayColors = false\n            },\n        },\n        scales: {\n          xAxes: [\n              {\n                  ticks: {\n                      beginAtZero: true,\n                      fontColor: textColor,\n                      callback: label => formatLabel(label)\n                  },\n                  gridLines: {\n                      display: true,\n                  },\n              }\n          ],\n          yAxes: [\n              {\n                  ticks: {\n                      // Uncomment the following line to show results with \n                      //max: 1,\n                      stepSize: .2,\n                      beginAtZero: true,\n                      fontColor: textColor,\n                      callback: label => `${formatter.format(label)}  `,\n                  },\n                  gridLines: {\n                      display: true,\n                  }\n              }\n          ],\n      },\n    }\n\n    return options\n}\n\n\n\nconst formatLabel = (str, maxwidth = 20) => {\n    var sections = []\n    var words = str.split(\" \")\n    var temp = \"\"\n\n    words.forEach((item, index) => {\n        if (temp.length > 0) {\n            var concat = `${temp} ${item}`\n\n            if (concat.length > maxwidth) {\n                sections.push(temp)\n                temp = \"\";\n            } else {\n                if(index == (words.length-1)) return sections.push(concat)\n                else return temp = concat\n            }\n        }\n\n        if (index == words.length - 1) return sections.push(item)\n\n        if(item.length < maxwidth) temp = item\n        else sections.push(item)\n    })\n\n    return sections\n}\n","import \"./style.css\"\nimport { useRef, useEffect, useState, useMemo } from 'react'\nimport Chart from 'chart.js'\nimport { getBGColors } from \"../utils\"\n\n\nexport const TrendChartMode = {\n    stacked: \"stacked\",\n    single: \"single\",\n}\n\n\nexport default function TrendChart({ element, mode }) {\n    const chartRef = useRef()\n    const mql = useMemo(() => window.matchMedia(\"(prefers-color-scheme: dark)\"), [])\n    const [chart, setChart] = useState()\n    \n\n    useEffect(() => {\n        const chart = new Chart(chartRef.current, {\n                type: \"line\",\n                data: getData(element),\n                options: getChartOptions(mql.matches),\n            }\n        )\n        setChart(chart)\n        // 101 miliseconds, because the sidebar needs 100 ms to expand.\n        setTimeout(() => chart.resize(), 101)\n    }, [])\n\n\n    // Color preference listener\n    useEffect(() => {\n        const listener = event => adaptChartColorScheme(chart, event.matches)\n        mql.addEventListener(\"change\", listener)\n        return () => mql.removeEventListener(\"change\", listener)\n    }, [chart])\n\n    function adaptChartColorScheme(chart, isDark) {\n        const fontColor = isDark ? \"#eee\" : \"#000\"\n        chart.options.legend.labels.fontColor = fontColor\n        chart.options.scales.xAxes[0].ticks.fontColor = fontColor\n        chart.options.scales.yAxes[0].ticks.fontColor = fontColor\n        chart.update()\n    }\n\n\n    useEffect(() => {\n        if (!chart) return\n        chart.options.scales.yAxes[0].stacked = mode === TrendChartMode.stacked\n        chart.update()\n    }, [mode])\n    \n    \n    return (\n        <div className=\"line-chart\">\n            <canvas ref={chartRef}/>\n        </div>\n    )\n}\n\n\nconst getData = ({datetime_result, answer_possibilities}) => {\n    const [bgColors, hoverBGColors] = getBGColors(answer_possibilities.length)\n    const data = {\n        labels: datetime_result.map(dt_result => new Intl.DateTimeFormat(window.navigator.language || \"en\").format(dt_result.datetime)),\n        datasets: answer_possibilities.map((possibility, index) => (\n            {\n                data: datetime_result.map(dt_result => dt_result.result.results[index]),\n                backgroundColor: bgColors[index],\n                hoverBackgroundColor: hoverBGColors[index],\n                borderWidth: 1,\n                fill: true,\n                label: possibility.answer,\n            }\n        )),\n    }\n    return data\n}\n\n\nconst getChartOptions = (isDark) => {\n    const textColor = isDark ? \"#eee\" : \"#000\"\n    const options = {\n        legend: {\n            labels: {\n                fontColor: textColor,\n            },\n        },\n        responsive: true,\n        maintainAspectRatio: true,\n        aspectRatio: window.innerWidth / (window.innerHeight/2) < 1.5 ? 1.5 : window.innerWidth / (window.innerHeight/2),\n        tooltips: {\n            callbacks: {\n                label: (item, data) => {\n                    const votes = item.value\n                    const label = data.datasets[item.datasetIndex].label\n                    return [`${label}: ${votes} Votes`]\n                },\n            },\n        },\n        scales: {\n            xAxes: [{\n                ticks: {\n                    fontColor: textColor,\n                },\n            }],\n            yAxes: [{\n                ticks: {\n                    stepSize: 1,\n                    beginAtZero: true,\n                    fontColor: textColor,\n                    callback: label => `${label} Votes`,\n                },\n                stacked: false,\n            }]\n        },\n    }\n    return options\n}","import \"./style.css\"\nimport { CardElement, PaginationElement } from \"../../../utilElements\"\nimport DoughnutChart from \"./charts/DoughnutChart\"\nimport BarChart from \"./charts/BarChart\"\nimport TrendChart, { TrendChartMode } from \"./charts/TrendChart\"\nimport { useState } from \"react\"\n\n\nexport default function QuestionResultsElement({ className=\"\", element }) {\n    const [trendChartMode, setTrendChartMode] = useState(TrendChartMode.single)\n    return (\n        <CardElement className={`results-element ${className}`}>\n            <div className=\"re-header\">\n                <div className=\"re-header-first-line\">\n                    <h2>{ element.question }</h2>\n                    <h4 className=\"re-total-votes\">{element.count_participants} Participants</h4>\n                </div>\n                <p>{getElementTypeLabel(element.type)}</p>\n            </div>\n            <PaginationElement>\n                <div className=\"results-group\">\n                    <h3>Total results</h3>\n                    { element.count_participants > 0\n                        ? <ResultsChart element={element} />\n                        : <p>No enough answers to display valid results.</p>\n                    }\n                </div>\n                <div className=\"results-group\">\n                    <div>\n                        <h3>Results over time</h3>\n                        <div className=\"btn-group\">\n                            <button className={`btn-light ${trendChartMode === TrendChartMode.single ? \"selected\" : \"\"}`} onClick={() => setTrendChartMode(TrendChartMode.single)}>Single</button>\n                            <button className={`btn-light ${trendChartMode === TrendChartMode.stacked ? \"selected\" : \"\"}`} onClick={() => setTrendChartMode(TrendChartMode.stacked)}>Stacked</button>\n                        </div>\n                    </div>\n                    { element.datetime_result\n                        ? <TrendChart element={element} mode={trendChartMode}/>\n                        : <p>No enough answers to display valid results.</p>\n                    }\n                </div>\n            </PaginationElement>\n        </CardElement>\n    )\n}\n\n\nfunction getElementTypeLabel(type) {\n    switch (type) {\n        case \"single-choice\": return \"Single Choice\"\n        case \"multiple-choice\": return \"Multiple Choice\" \n        default: return \"\"\n    }\n}\n\n\nfunction ResultsChart({ element }) {\n    switch (element.type) {\n        case \"single-choice\": return <DoughnutChart element={ element }/>\n        case \"multiple-choice\": return <BarChart element={ element }/>\n        default: return <div>Chart not available</div>\n    }\n}\n","import \"./style.css\"\nimport { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport Server from \"../../Server\"\nimport { ErrorPage, TitleElement, StandardPage, CardElement } from \"../../utilElements\"\nimport QuestionResultsElement from \"./QuestionResultsElement\"\nimport GeoChart from \"../GeoChart\"\n\n\nexport function ResultsView() {\n    const { id } = useParams()\n    const [ survey, setSurvey ] = useState()\n\n    useEffect(() => {\n        Server.database().getSurveyResults(id)\n        .then(setSurvey)\n        .catch(() => setSurvey(null))\n    }, [])\n\n    function Content() {\n        if (survey) return (\n            <div>\n                <TitleElement className=\"so-page-title\">{ survey.title }</TitleElement>\n                { Array.isArray(survey.map_results) && <GeoCard data={survey.map_results}/> }\n                { Array.isArray(survey.elements) && survey.elements.map((element, index) => <QuestionResultsElement className=\"primary-element\" element={element} key={index}/>) } \n            </div>\n        )\n        else if (survey === null) return <ErrorPage message=\"We're sorry, the survey you requested couldn't be found.\"/>\n        else return <h3>Loading Results</h3>\n    }\n    \n    return (\n        <StandardPage className= \"survey-results\"> \n            <Content/>\n        </StandardPage>\n    )\n}\n\nfunction GeoCard({data}) {\n    return (\n        <CardElement className=\"primary-element so-geochart geo-card\">\n            <GeoChart data={data}/>\n        </CardElement>\n    )\n}","import { useMemo } from \"react\"\nimport { UserView } from \"../utilElements\"\nimport Server from \"../Server\"\nimport { HelpSections } from \"../PublicApp\"\n\n\nexport function AccountView() {\n  const user = useMemo(() => Server.auth().currentUser(), [])\n\n  return (\n    <UserView\n      helpSection={HelpSections.account}\n      user={user}\n      validateWithOldPasswort={true}\n      onUpdateUser={Server.auth().updateUser}\n      onUpdatePW={Server.auth().updatePassword}\n      onDeleteUser={Server.auth().deleteUser}\n    />\n  )\n}","import \"./style.css\"\nimport { StandardPage } from \"../utilElements\"\n\n\nexport function ImprintView() {\n  return(\n    <StandardPage className=\"legal-view\" title=\"Imprint \">\n      <h2>Information pursuant to &sect; 5 TMG</h2>\n      <p>\n        Partycipate AG<br/>\n        Roteb&uuml;hlplatz 41<br/>\n        Geb&auml;ude 1<br/>\n        70178 Stuttgart\n      </p>\n      \n      <p>\n        Commercial Register: HRB 999999<br/>\n        Registration Court: Amtsgericht Stuttgart\n      </p>\n      \n      <p>\n        <strong>Represented by:</strong><br/>\n        Marlo Kessler<br />\n        Jannik Sinz <br />\n        Giovanni Carlucci<br />\n        Ines Maurer <br />\n        Laura Zurheiden<br />\n        Alexandra Friesen<br />\n        Melanie Rudloff<br />\n        Jarg Heyll<br />\n        Andreas Pitsch\n      </p>\n      \n      <p>\n        <strong>Chairman of Supervisory Board:</strong><br/>\n        Bj&ouml;rn St&uuml;tz\n      </p>\n      \n      <h2>Contact</h2>\n      <p>\n        Telephone: +49 (0) 123 44 55 66<br/>\n        Telefax: +49 (0) 123 44 55 99<br/>\n        E-Mail: { process.env.REACT_APP_INFO_EMAIL_ADDRESS }\n      </p>\n      \n      <h2>VAT-ID</h2>\n      <p>\n        Sales tax identification number according to  &sect; 27 a Umsatzsteuergesetz:<br/>\n        DE999999999\n      </p>\n      \n      <h2>EU dispute resolution</h2>\n      <p>\n        The European Commission provides a platform for online dispute resolution (ODR): <a href=\"https://ec.europa.eu/consumers/odr/\" target=\"_blank\" rel=\"noopener noreferrer\"> https://ec.europa.eu/consumers/odr/</a>. <br/>\n        Our e-mail address can be found above in the site notice. <br/>\n        We are not willing or obliged to participate in dispute resolution proceedings before a consumer arbitration board.\n      </p>\n      \n      <h2>Liability for Contents</h2> \n      <p>As service providers, we are liable for own contents of these websites according to Paragraph 7, Sect. 1 German Telemedia Act (TMG). However, according to Paragraphs 8 to 10 German Telemedia Act (TMG), service providers are not obligated to permanently monitor submitted or stored information or to search for evidences that indicate illegal activities.</p> \n      <p>Legal obligations to removing information or to blocking the use of information remain unchallenged. In this case, liability is only possible at the time of knowledge about a specific violation of law. Illegal contents will be removed immediately at the time we get knowledge of them.</p> \n      \n      <h2>Liability for Links</h2> \n      <p>Our offer includes links to external third party websites. We have no influence on the contents of those websites, therefore we cannot guarantee for those contents. Providers or administrators of linked websites are always responsible for their own contents.</p> \n      <p>The linked websites had been checked for possible violations of law at the time of the establishment of the link. Illegal contents were not detected at the time of the linking. A permanent monitoring of the contents of linked websites cannot be imposed without reasonable indications that there has been a violation of law. Illegal links will be removed immediately at the time we get knowledge of them.</p> \n      \n      <h2>Copyright</h2> \n      <p>\n        Contents and compilations published on these websites by the providers are subject to German copyright laws. Reproduction, editing, distribution as well as the use of any kind outside the scope of the copyright law require a written permission of the author or originator. Downloads and copies of these websites are permitted for private use only. <br/> \n        The commercial use of our contents without permission of the originator is prohibited.\n      </p> \n      <p>Copyright laws of third parties are respected as long as the contents on these websites do not originate from the provider. Contributions of third parties on this site are indicated as such. However, if you notice any violations of copyright law, please inform us. Such contents will be removed immediately.</p>\n    </StandardPage>\n  )\n}","import \"./style.css\"\nimport { StandardPage } from \"../utilElements\"\n\n\nexport function PrivacyStatementView() {\n  return(\n    <StandardPage className=\"legal-view\" title=\"Privacy \">\n      <h1>Privacy Policy</h1>\n      <h2>1. An overview of data protection</h2>\n      \n      <h3>General information</h3> \n      <p>The following information will provide you with an easy to navigate overview of what will happen with your personal data when you visit this website. The term &bdquo;personal data&ldquo; comprises all data that can be used to personally identify you. For detailed information about the subject matter of data protection, please consult our Data Protection Declaration, which we have included beneath this copy.</p>\n      \n      <h3>Data recording on this website</h3>\n      <p><strong>Who is the responsible party for the recording of data on this website (i.e. the &bdquo;controller&ldquo;)?</strong></p>\n      <p>The data on this website is processed by the operator of the website, whose contact information is available under section &bdquo;Information Required by Law&ldquo; on this website.</p>\n      <p><strong>How do we record your data?</strong></p> <p>We collect your data as a result of your sharing of your data with us. This may, for instance be information you enter into our contact form.</p>\n      <p>Our IT systems automatically record other data when you visit our website. This data comprises primarily technical information (e.g. web browser, operating system or time the site was accessed). This information is recorded automatically when you access this website.</p>\n      <p><strong>What are the purposes we use your data for?</strong></p>\n      <p>Information is only generated to guarantee the error free provision of the website.</p> <p><strong>What rights do you have as far as your information is concerned?</strong></p>\n      <p>You have the right to receive information about the source, recipients and purposes of your archived personal data at any time without having to pay a fee for such disclosures. You also have the right to demand that your data are rectified or eradicated. Please do not hesitate to contact us at any time under the address disclosed in section &bdquo;Information Required by Law&ldquo; on this website if you have questions about this or any other data protection related issues. You also have the right to log a complaint with the competent supervising agency.</p>\n      <p>Moreover, under certain circumstances, you have the right to demand the restriction of the processing of your personal data. For details, please consult the Data Protection Declaration under section &bdquo;Right to Restriction of Data Processing.&ldquo;</p>\n      \n      <h3>Analysis tools and tools provided by third parties</h3>\n      <p>There is a possibility that your browsing patterns will be statistically analysed when your visit this website. Such analyses are performed primarily with cookies and with what we refer to as analysis programmes. As a rule, the analyses of your browsing patterns are conducted anonymously; i.e. the browsing patterns cannot be traced back to you.</p>\n      <p>You have the option to object to such analyses or you can prevent their performance by not using certain tools. For detailed information about the tools and about your options to object, please consult our Data Protection Declaration below.</p>\n\n      <h2>2. General information and mandatory information</h2>\n      <h3>Data protection</h3> \n      <p>The operators of this website and its pages take the protection of your personal data very seriously. Hence, we handle your personal data as confidential information and in compliance with the statutory data protection regulations and this Data Protection Declaration.</p>\n      <p>Whenever you use this website, a variety of personal information will be collected. Personal data comprises data that can be used to personally identify you. This Data Protection Declaration explains which data we collect as well as the purposes we use this data for. It also explains how, and for which purpose the information is collected.</p>\n      <p>We herewith advise you that the transmission of data via the Internet (i.e. through e-mail communications) may be prone to security gaps. It is not possible to completely protect data against third party access.</p>\n      \n      <h3>Information about the responsible party (referred to as the &bdquo;controller&ldquo; in the GDPR)</h3>\n      <p>The data processing controller on this website is:</p>\n      <p>\n        Partycipate AG<br />\n        Roteb&uuml;hlplatz 41<br />\n        Geb&auml;ude 1<br />\n        70178 Stuttgart\n      </p>\n      <p>\n        Phone: <a href={`tel:${process.env.REACT_APP_PHONE_NUMBER}`}>{process.env.REACT_APP_PHONE_NUMBER_READABLE}</a><br/>\n        E-mail: <a href={`mailto:${process.env.REACT_APP_PRIVACY_EMAIL_ADDRESS}`}>{process.env.REACT_APP_PRIVACY_EMAIL_ADDRESS}</a>\n      </p>\n      <p>The controller is the natural person or legal entity that single-handedly or jointly with others makes decisions as to the purposes of and resources for the processing of personal data (e.g. names, e-mail addresses, etc.).</p>\n      \n      <h3>Retention period </h3>\n      <p>When there is no duration specified in this document, personal data will be retained as long as needed or permitted in the light of the purpose it was obtained for and consistent with applicable law. In case of a justified data deletion request or revocation of consent all personal data will be deleted unless otherwise required by law. When the lawful requirements are fulfilled the data are deleted subsequently. </p>\n\n      <h3>Revocation of your consent to the processing of data</h3> \n      <p>A wide range of data processing transactions are possible only subject to your express consent. You can also revoke at any time any consent you have already given us. To do so, all you are required to do is sent us an informal notification via e-mail. This shall be without prejudice to the lawfulness of any data collection that occurred prior to your revocation.</p>\n      \n      <h3>Right to object to the collection of data in special cases; right to object to direct advertising (Art. 21 GDPR)</h3>\n      <p>IN THE EVENT THAT DATA ARE PROCESSED ON THE BASIS OF ART. 6 SECT. 1 LIT. E OR F GDPR, YOU HAVE THE RIGHT TO AT ANY TIME OBJECT TO THE PROCESSING OF YOUR PERSONAL DATA BASED ON GROUNDS ARISING FROM YOUR UNIQUE SITUATION. THIS ALSO APPLIES TO ANY PROFILING BASED ON THESE PROVISIONS. TO DETERMINE THE LEGAL BASIS, ON WHICH ANY PROCESSING OF DATA IS BASED, PLEASE CONSULT THIS DATA PROTECTION DECLARATION. IF YOU LOG AN OBJECTION, WE WILL NO LONGER PROCESS YOUR AFFECTED PERSONAL DATA, UNLESS WE ARE IN A POSITION TO PRESENT COMPELLING PROTECTION WORTHY GROUNDS FOR THE PROCESSING OF YOUR DATA, THAT OUTWEIGH YOUR INTERESTS, RIGHTS AND FREEDOMS OR IF THE PURPOSE OF THE PROCESSING IS THE CLAIMING, EXERCISING OR DEFENCE OF LEGAL ENTITLEMENTS (OBJECTION PURSUANT TO ART. 21 SECT. 1 GDPR).</p> <p>IF YOUR PERSONAL DATA IS BEING PROCESSED IN ORDER TO ENGAGE IN DIRECT ADVERTISING, YOU HAVE THE RIGHT TO AT ANY TIME OBJECT TO THE PROCESSING OF YOUR AFFECTED PERSONAL DATA FOR THE PURPOSES OF SUCH ADVERTISING. THIS ALSO APPLIES TO PROFILING TO THE EXTENT THAT IT IS AFFILIATED WITH SUCH DIRECT ADVERTISING. IF YOU OBJECT, YOUR PERSONAL DATA WILL SUBSEQUENTLY NO LONGER BE USED FOR DIRECT ADVERTISING PURPOSES (OBJECTION PURSUANT TO ART. 21 SECT. 2 GDPR).</p>\n      \n      <h3>Right to log a complaint with the competent supervisory agency</h3>\n      <p>In the event of violations of the GDPR, data subjects are entitled to log a complaint with a supervisory agency, in particular in the member state where they usually maintain their domicile, place of work or at the place where the alleged violation occurred. The right to log a complaint is in effect regardless of any other administrative or court proceedings available as legal recourses.</p>\n      \n      <h3>Right to data portability</h3>\n      <p>You have the right to demand that we hand over any data we automatically process on the basis of your consent or in order to fulfil a contract be handed over to you or a third party in a commonly used, machine readable format. If you should demand the direct transfer of the data to another controller, this will be done only if it is technically feasible.</p>\n      \n      <h3>Information about, rectification and eradication of data</h3>\n      <p>Within the scope of the applicable statutory provisions, you have the right to at any time demand information about your archived personal data, their source and recipients as well as the purpose of the processing of your data. You may also have a right to have your data rectified or eradicated. If you have questions about this subject matter or any other questions about personal data, please do not hesitate to contact us at any time at the address provided in section &bdquo;Information Required by Law.&ldquo;</p>\n      \n      <h3>Right to demand processing restrictions</h3>\n      <p>You have the right to demand the imposition of restrictions as far as the processing of your personal data is concerned. To do so, you may contact us at any time at the address provided in section &bdquo;Information Required by Law.&ldquo; The right to demand restriction of processing applies in the following cases:</p>\n      <ul> \n        <li>In the event that you should dispute the correctness of your data archived by us, we will usually need some time to verify this claim. During the time that this investigation is ongoing, you have the right to demand that we restrict the processing of your personal data.</li>\n        <li>If the processing of your personal data was/is conducted in an unlawful manner, you have the option to demand the restriction of the processing of your data in lieu of demanding the eradication of this data.</li> <li>If we do not need your personal data any longer and you need it to exercise, defend or claim legal entitlements, you have the right to demand the restriction of the processing of your personal data instead of its eradication.</li> \n        <li>If you have raised an objection pursuant to Art. 21 Sect. 1 GDPR, your rights and our rights will have to be weighed against each other. As long as it has not been determined whose interests prevail, you have the right to demand a restriction of the processing of your personal data.</li>\n      </ul> \n      <p>If you have restricted the processing of your personal data, these data &ndash; with the exception of their archiving &ndash; may be processed only subject to your consent or to claim, exercise or defend legal entitlements or to protect the rights of other natural persons or legal entities or for important public interest reasons cited by the European Union or a member state of the EU.</p>\n\n      <h2>3. Recording of data on this website</h2>\n\n      <h3>Cookies</h3> \n      <p>In some instances, our website and its pages use so-called cookies. Cookies do not cause any damage to your computer and do not contain viruses. The purpose of cookies is to make our website more user friendly, effective and more secure. Cookies are small text files that are placed on your computer and stored by your browser.</p> \n      <p>Most of the cookies we use are so-called &bdquo;session cookies.&ldquo; They are automatically deleted after your leave our site. Other cookies will remain archived on your device until you delete them. These cookies enable us to recognise your browser the next time you visit our website.</p>\n      <p>You can adjust the settings of your browser to make sure that you are notified every time cookies are placed and to enable you to accept cookies only in specific cases or to exclude the acceptance of cookies for specific situations or in general and to activate the automatic deletion of cookies when you close your browser. If you deactivate cookies, the functions of this website may be limited.</p>\n      <p>Cookies that are required for the performance of the electronic communications transaction or to provide certain functions you want to use, are stored on the basis of Art. 6 Sect. 1 lit. f GDPR. The website operator has a legitimate interest in storing cookies to ensure the technically error free and optimised provision of the operator&rsquo;s services. If a corresponding agreement has been requested (e.g. an agreement to the storage of cookies), the processing takes place exclusively on the basis of Art. 6 para. 1 lit. a GDPR; the agreement can be revoked at any time.</p>\n      <p>If other cookies (e.g. cookies for the analysis of your browsing patterns) should be stored, they are addressed separately in this Data Protection Declaration.</p>\n      \n      <h3>Server log files</h3> \n      <p>The provider of this website and its pages automatically collects and stores information in so-called server log files, which your browser communicates to us automatically. The information comprises:</p>\n      <ul>\n        <li>The type and version of browser used</li>\n        <li>The used operating system</li> <li>Referrer URL</li>\n        <li>The hostname of the accessing computer</li>\n        <li>The time of the server inquiry</li>\n        <li>The IP address</li>\n      </ul> \n      <p>This data is not merged with other data sources.</p>\n      <p>This data is recorded on the basis of Art. 6 Sect. 1 lit. f GDPR. The operator of the website has a legitimate interest in the technically error free depiction and the optimization of the operator&rsquo;s website. In order to achieve this, server log files must be recorded.</p>\n\n      <h3>Registration on this website</h3>\n      <p>You have the option to register on this website to be able to use additional website functions. We shall use the data you enter only for the purpose of using the respective offer or service you have registered for. The required information we request at the time of registration must be entered in full. Otherwise we shall reject the registration.</p> <p>To notify you of any important changes to the scope of our portfolio or in the event of technical modifications, we shall use the e-mail address provided during the registration process.</p> <p>We shall process the data entered during the registration process on the basis of your consent (Art. 6 Sect. 1 lit. a GDPR).</p> <p>The data recorded during the registration process shall be stored by us as long as you are registered on this website. Subsequently, such data shall be deleted. This shall be without prejudice to mandatory statutory retention obligations.</p>\n      \n      <h3>Processing of data (customer and contract data)</h3>\n      <p>We collect, process and use personal data only to the extent necessary for the establishment, content organization or change of the legal relationship (data inventory). These actions are taken on the basis of Art. 6 Sect. 1 lit. b GDPR, which permits the processing of data for the fulfilment of a contract or pre-contractual actions. We collect, process and use personal data concerning the use of this website (usage data) only to the extent that this is necessary to make it possible for users to utilize the services and to bill for them.</p> <p>The collected customer data shall be eradicated upon completion of the order or the termination of the business relationship. This shall be without prejudice to any statutory retention mandates.</p>\n      \n      <h3>Processing sensitive data (survey participants)</h3>\n      <p>In some surveys we might additionally collect and analyze following sensitive data (according to Art. 9 Sect. GDPR): <ul> <li> Ethnicity</li> <li> Political Opinions </li> <li> Religious Belief</li> <li> Ideology </li> <li> Health Data</li> <li> Party Affiliation </li> <li> Trade Union Affiliation </li> <li> Sexual Orientation</li> </ul> However, the processing of this data only takes place, if a person answered the survey question asking for the respective content. Survey participant can always skip question or choose not to answer them. Legal Basis for the processing of sensitive data is Art. 9 Sect. 2 lit. a GDPR. Sensitive data will only be processed for the purpose of offering correct survey results.</p>\n      \n      <h3>Data transfer upon closing of contracts for services and digital content</h3>\n      <p>Any further transfer of data shall not occur or shall only occur if you have expressly consented to the transfer. Any sharing of your data with third parties in the absence of your express consent, for instance for advertising purposes, shall not occur.</p> <p>The basis for the processing of data is Art. 6 Sect. 1 lit. b GDPR, which permits the processing of data for the fulfilment of a contract or for pre-contractual actions.</p>\n\n      <h2>4. Analysis tools and advertising</h2>\n      <h3>Google Analytics</h3> <p>This website uses functions of the web analysis service Google Analytics. The provider of this service is Google Ireland Limited (&bdquo;Google&ldquo;), Gordon House, Barrow Street, Dublin 4, Ireland.</p> <p>Google Analytics uses so-called cookies. Cookies are text files, which are stored on your computer and that enable an analysis of the use of the website by users. The information generated by cookies on your use of this website is usually transferred to a Google server in the United States, where it is stored.</p> <p>The storage of Google Analytics cookies and the utilization of this analysis tool are based on Art. 6 Sect. 1 lit. f GDPR. The operator of this website has a legitimate interest in the analysis of user patterns to optimize both, the services offered online and the operator&rsquo;s advertising activities. If a corresponding agreement has been requested (e.g. an agreement to the storage of cookies), the processing takes place exclusively on the basis of Art. 6 para. 1 lit. a GDPR; the agreement can be revoked at any time.</p> <p><strong>IP anonymization</strong></p> <p>On this website, we have activated the IP anonymization function. As a result, your IP address will be abbreviated by Google within the member states of the European Union or in other states that have ratified the Convention on the European Economic Area prior to its transmission to the United States. The full IP address will be transmitted to one of Google&rsquo;s servers in the United States and abbreviated there only in exceptional cases. On behalf of the operator of this website, Google shall use this information to analyse your use of this website to generate reports on website activities and to render other services to the operator of this website that are related to the use of the website and the Internet. The IP address transmitted in conjunction with Google Analytics from your browser shall not be merged with other data in Google&rsquo;s possession.</p>\n\n      <p><strong>Browser plug-in</strong></p> <p>You do have the option to prevent the archiving of cookies by making pertinent changes to the settings of your browser software. However, we have to point out that in this case you may not be able to use all of the functions of this website to their fullest extent. Moreover, you have the option prevent the recording of the data generated by the cookie and affiliated with your use of the website (including your IP address) by Google as well as the processing of this data by Google by downloading and installing the browser plug-in available under the following link: <a href=\"https://tools.google.com/dlpage/gaoptout?hl=en\" target=\"_blank\" rel=\"noopener noreferrer\">https://tools.google.com/dlpage/gaoptout?hl=en</a>.</p> <p><strong>Objection to the recording of data</strong></p> <p>You have the option to prevent the recording of your data by Google Analytics by clicking on the following link. This will result in the placement of an opt out cookie, which prevents the recording of your data during future visits to this website: <a href=\"javascript:gaOptout();\">Google Analytics deactivation</a>.</p> <p>For more information about the handling of user data by Google Analytics, please consult Google&rsquo;s Data Privacy Declaration at: <a href=\"https://support.google.com/analytics/answer/6004245?hl=en\" target=\"_blank\" rel=\"noopener noreferrer\">https://support.google.com/analytics/answer/6004245?hl=en</a>.</p><p><strong>Contract data processing</strong></p> <p>We have executed a contract data processing agreement with Google and are implementing the stringent provisions of the German data protection agencies to the fullest when using Google Analytics.</p>\n      <p><strong>Demographic parameters provided by Google Analytics</strong></p> <p>This website uses the function &bdquo;demographic parameters&ldquo; provided by Google Analytics. It makes it possible to generate reports providing information on the age, gender and interests of website visitors. The sources of this information are interest-related advertising by Google as well as visitor data obtained from third party providers. This data cannot be allocated to a specific individual. You have the option to deactivate this function at any time by making pertinent settings changes for advertising in your Google account or you can generally prohibit the recording of your data by Google Analytics as explained in section &bdquo;Objection to the recording of data.&ldquo;</p>\n      <p><strong>Archiving period</strong></p> <p>Data on the user or incident level stored by Google linked to cookies, user IDs or advertising IDs (e.g. DoubleClick cookies, Android advertising ID) will be anonymized or deleted after 14 month. For details please click the following link: <a href=\"https://support.google.com/analytics/answer/7667196?hl=en\" target=\"_blank\" rel=\"noopener noreferrer\">https://support.google.com/analytics/answer/7667196?hl=en</a></p>\n\n      <h2> 5. Newsletter </h2>\n      <h3>Newsletter data</h3> \n      <p>If you would like to subscribe to the newsletter offered on this website, we will need from you an e-mail address as well as information that allow us to verify that you are the owner of the e-mail address provided and consent to the receipt of the newsletter. No further data shall be collected or shall be collected only on a voluntary basis. We shall use such data only for the sending of the requested information and shall not share such data with any third parties.</p> <p>The processing of the information entered into the newsletter subscription form shall occur exclusively on the basis of your consent (Art. 6 Sect. 1 lit. a GDPR). You may revoke the consent you have given to the archiving of data, the e-mail address and the use of this information for the sending of the newsletter at any time, for instance by clicking on the &bdquo;Unsubscribe&ldquo; link in the newsletter. This shall be without prejudice to the lawfulness of any data processing transactions that have taken place to date.</p> <p>The data deposited with us for the purpose of subscribing to the newsletter will be stored by us until you unsubscribe from the newsletter or the newsletter service provider and deleted from the newsletter distribution list after you unsubscribe from the newsletter. Data stored for other purposes with us remain unaffected.</p> <p>After you unsubscribe from the newsletter distribution list, your e-mail address may be stored by us or the newsletter service provider in a blacklist to prevent future mailings. The data from the blacklist is used only for this purpose and not merged with other data. This serves both your interest and our interest in complying with the legal requirements when sending newsletters (legitimate interest within the meaning of Art. 6 para. 1 lit. f GDPR). The storage in the blacklist is indefinite. <strong>You may object to the storage if your interests outweigh our legitimate interest.</strong></p>\n    </StandardPage>\n  )\n}","import \"./style.css\"\nimport { useState } from 'react'\nimport { Link } from \"react-router-dom\"\nimport { CardElement, StandardPage, TitleElement } from \"../../utilElements\"\nimport Server from \"../../Server\"\nimport { FiChevronRight } from \"react-icons/fi\"\nimport Checkbox from '@material-ui/core/Checkbox'\n\n\n\nexport function SignupView() {\n  const [name, setName]           = useState(\"\")\n  const [email, setEmail]         = useState(\"\")\n  const [password1, setPassword1]   = useState(\"\")\n  const [password2, setPassword2]   = useState(\"\")\n  const [acceptTAC, setAcceptTAC] = useState(false)\n\n  const [errors, setErrors] = useState(false)\n\n  const SignupError = {\n    emailAlreadyInUse : \"emailAlreadyInUse\",\n    emailNotValid : \"emailNotValid\",\n    nameIsEmpty : \"nameIsEmpty\",\n    passwordsIsInvalid : \"passwordsIsInvalid\",\n    passwordsAreUnequal : \"passwordsAreUnequal\",\n    notAcceptedTAC : \"notCheckedTAC\",\n    unknown : \"unknown\",\n  }\n\n\n  function handleSignup(event) {\n    event.preventDefault()\n    if (!formIsValid()) return\n    Server.auth().signup(email, password1, name)\n    .then(() => setErrors(undefined))\n    .catch((errors) =>{\n      const errorArray = []\n      switch(errors.message) {\n        case SignupError.emailAlreadyInUse : errorArray.push(SignupError.emailAlreadyInUse)\n        break\n        default : errorArray.push(SignupError.unknown)\n      }\n      setErrors(errorArray)\n    })\n  }\n\n\n  function formIsValid() {\n    const errorArray = []\n    if (!nameEntered()) errorArray.push(SignupError.nameIsEmpty)\n    if (!emailIsValid()) errorArray.push(SignupError.emailNotValid)\n    if (!passwordIsValid()) errorArray.push(SignupError.passwordsIsInvalid)\n    if (!passwordsAreEqual()) errorArray.push(SignupError.passwordsAreUnequal)\n    if (!acceptTAC) errorArray.push(SignupError.notAcceptedTAC)\n    if (errorArray.length > 0) {\n      setErrors(errorArray)\n      return false\n    } else return true\n  } \n\n  const nameEntered = () => name.length > 0\n  function emailIsValid() {\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    return re.test(String(email).toLowerCase())\n  }\n  const passwordIsValid = () => /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{10,}$/.test(password1)\n  const passwordsAreEqual = () => password1 === password2\n\n\n  const setValueVia = setter => event => setter(event.target.value)\n  const errorOccured = error => Array.isArray(errors) && errors.includes(error)\n\n\n  return(\n    <StandardPage className=\"signup\" title=\"Do you want to join Partycipate? Sign up here! \">\n      <div className=\"signup-body\"> \n        <CardElement className=\"primary-element su-card\">\n          <form onSubmit={handleSignup} noValidate>\n            <TitleElement>Register now</TitleElement>\n            <label htmlFor=\"name\">Your name:</label>\n            <input className=\"email\" type=\"text\" placeholder=\"Enter Name\" name=\"name\" value={name} onChange={setValueVia(setName)}/>\n\n            { errorOccured(SignupError.nameIsEmpty) && <small className=\"error\">Please enter a name!</small> }\n\n            <label htmlFor=\"email\">E-Mail:</label>\n            <input className=\"email\" type=\"email\" placeholder=\"Enter E-Mail\" name=\"email\" value={email} onChange={setValueVia(setEmail)}/>\n            \n            { errorOccured(SignupError.emailAlreadyInUse)\n              ? <small className=\"errormessage\">The e-mail is already in use. Please provide another email!</small>\n              : errorOccured(SignupError.emailNotValid) && <small className=\"error\">The e-mail is invalid.</small>\n            }\n\n            <label htmlFor=\"pw\">Password:</label>\n            <input className=\"pass\" type=\"password\" placeholder=\"Enter Password\" name=\"pw\" value={password1} onChange={setValueVia(setPassword1)}/>\n            <small className={errorOccured(SignupError.passwordsIsInvalid) ? \"error\" : \"\"}>Your password needs at least a length of 10 characters and needs to contain numbers, uppercase and lowercase letters.</small>\n\n            <label htmlFor=\"repeat-pw\">Repeat password:</label>\n            <input className=\"pass\" type=\"password\" placeholder=\"Repeat Password\" name=\"repeat-pw\" value={password2} onChange={setValueVia(setPassword2)}/>\n            { errorOccured(SignupError.passwordsAreUnequal) && <small className=\"error\">Your password is not equal to the one mentioned above. Please try again!</small> }\n\n            <div className=\"tac-statement\">\n              <Checkbox inputProps={{ 'aria-label': 'uncontrolled-checkbox' }} checked={acceptTAC} onClick={() => setAcceptTAC(!acceptTAC)}/>\n              <label htmlFor=\"checkbox_id\" id=\"text\">I have read and accept the terms and conditions and the <Link to={process.env.REACT_APP_PATH_PRIVACY_STATEMENT}>privacy policy</Link> of Partycipate.</label>\n            </div>\n            { errorOccured(SignupError.notAcceptedTAC) && <small className=\"error\">Please accept our terms and conditions to continue!</small> }\n            { errorOccured(SignupError.unknown) && <small className=\"error\">An error occured. Please try again in some minutes!</small> }\n            \n            <button className=\"btn-dark btn-icon-right\">Register<FiChevronRight/></button>\n          </form>\n        </CardElement>  \n      </div>\n    </StandardPage>\n  )\n}\n ","import \"./style.css\"\nimport { useState } from \"react\"\nimport { FiChevronRight } from \"react-icons/fi\"\nimport Server from \"../../Server\"\nimport { TitleElement, CardElement, StandardPage } from \"../../utilElements\"\n\n\nexport function LoginView() {\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [errors, setErrors] = useState(false)\n\n  const LoginError = {\n    emailNotRegistered : \"emailNotRegistered\",\n    wrongPassword : \"wrongPassword\",\n    unknownError : \"unknownError\"\n  }\n\n  function handleLogin(event) {\n    event.preventDefault()\n    Server.auth().login(email, password)\n    .catch(error => {\n      const errorArray = []\n      switch(error.message) {\n        case LoginError.emailNotRegistered : errorArray.push(LoginError.emailNotRegistered)\n        case LoginError.wrongPassword : errorArray.push(LoginError.wrongPassword)\n        break\n        default : errorArray.push(LoginError.unknownError)\n      }\n      setErrors(errorArray)\n    })\n  }\n\n  const errorOccured = error => Array.isArray(errors) && errors.includes(error)\n\n  const setValueVia = setter => event => setter(event.target.value)\n\n  return(\n    <StandardPage className=\"login-view\" title=\"Log in to your existing account! \">\n      <CardElement className=\"primary-element login-card\">\n        <form onSubmit={handleLogin} noValidate>\n          <TitleElement className=\"login-title\">Log-in</TitleElement>\n          <label htmlFor=\"uname\">E-Mail:</label>\n          <input type=\"email\" placeholder=\"Enter E-Mail\" name=\"uname\" value={email} onChange={setValueVia(setEmail)}/>\n          { errorOccured(LoginError.emailNotRegistered) && <small className=\"errormessage\">Your E-mail could not be found. Please try again!</small> }\n\n          <label htmlFor=\"psw\">Password:</label>\n          <input type=\"password\" placeholder=\"Enter Password\" name=\"psw\" value={password} onChange={setValueVia(setPassword)}/>\n          { errorOccured(LoginError.wrongPassword)  && <small className=\"error\">Your Password was incorrect. Please try again!</small> }\n          { errorOccured(LoginError.unknownError) && <small className=\"error\">You couldn't get logged in. Please try again!</small> }\n          \n          <button className=\"btn-dark btn-icon-right\" type=\"submit\">Login<FiChevronRight/></button>\n        </form>\n      </CardElement>  \n    </StandardPage>\n  )\n}\n  ","import \"./style.css\"\nimport { useEffect } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { CardElement, StandardPage } from \"../../utilElements\"\n\n\nexport function LogoutView() {\n  const history = useHistory()\n\n  // Sets a timer so that after 5 seconds the user is redirected to the home page.\n  useEffect(() => {\n    //const timeoutID = setTimeout(() => history.push(\"/\"), 5000)\n    //return () => clearTimeout(timeoutID)\n  }, [history])\n\n  return(\n    <StandardPage className=\"logout-view\" title=\"Thank you, Partycipant!\">\n      <p>You have successfully logged out and you can leave this page now.</p>\n      <div className=\"lv-body\">\n        <CardElement className=\"primary-element lv-card\"> \n          <p>We hope to see you back soon on</p>\n          <Link to={process.env.REACT_APP_PATH_HOME}><img src={ `${process.env.PUBLIC_URL}/images/logo.png` }/></Link>\n        </CardElement> \n      </div>\n    </StandardPage>\n  )\n}","import { useEffect, useState } from \"react\"\nimport { useHistory, useParams } from \"react-router\"\nimport { ErrorPage, UserView } from \"../utilElements\"\nimport Server from \"../Server\"\n\n\nexport function AdminUserView() {\n    const history = useHistory()\n    const { userID } = useParams()\n    const [user, setUser] = useState()\n\n    \n    useEffect(() => {\n        Server.admin().getUser(userID)\n        .then(setUser)\n        .catch(() => setUser(null))\n    }, [])\n\n\n    function handleDeletation() {\n        Server.admin().deleteUser(user.user_id)\n        .then(() => history.goBack())\n    }\n\n\n    if (user) return (\n        <UserView\n            user={user}\n            onUpdateUser={Server.admin().updateUser}\n            onUpdatePW={(_, newPW) => Server.admin().updatePassword(user.user_id, newPW)}\n            onDeleteUser={handleDeletation}\n        />\n    )\n    else if (user === null) return <ErrorPage message=\"We are sorry, the user couldn't be loaded!\"/>\n    else return <div/>\n}","import Server from \"../Server\"\nimport { ListView } from \"../utilElements\"\n\n\nexport function AdminUserOverview() {\n    const handleFilter = (user, searchInput) => (user.name && user.name.toLowerCase().includes(searchInput)) || (user.email && user.email.toLowerCase().includes(searchInput))\n    return (\n        <ListView \n            title=\"Users\"\n            errorMessage=\"We are sorry, the users couldn't be loaded!\"\n            listItemContent={user => \n                <div style={{ textAlign: \"start\" }}> \n                    <p style={{ margin: \"0\" }}>{user.name}</p>\n                    <small>{user.email}</small>\n                </div>\n            }\n            linkForItem={user => `${process.env.REACT_APP_PATH_USERS_OVERVIEW}/${user.user_id}`}\n            onLoad={() => Server.admin().getUsers().then(users => users.filter(user => Server.auth().currentUser().user_id != user.user_id))}\n            onFilter={handleFilter}\n        />\n    )\n}\n\n","import './style.css'\nimport { useEffect, useRef, useState } from 'react'\nimport { Switch, Route, useHistory, Redirect, useLocation } from \"react-router-dom\"\nimport Server from \"../Server\"\nimport { ErrorPage } from \"../utilElements\"\n\n// Views\nimport Navbar from \"./Navbar\"\nimport Sidebar from \"./Sidebar\"\nimport Footer from \"./Footer\"\nimport { HomeView, WhyPartycipateView, DocsView, ContactView } from \"../PublicApp\"\nimport { DashboardView, CreateSurveyView, SurveyOverview, ResultsView, AccountView } from \"../UserApp\"\nimport { ImprintView, PrivacyStatementView } from \"../Legal\"\nimport { SignupView, LoginView, LogoutView} from \"../AuthApp\"\nimport { AdminUserOverview, AdminUserView} from \"../AdminApp\"\n\n\nexport default function Main() {\n  const [ user, setUser ] = useState()\n  const history = useHistory()\n  const pageContainerRef = useRef()\n\n  useEffect(() => Server.init(), [])\n\n  useEffect(() => Server.auth().onAuthStateChanged((newUser, oldUser) => {\n    if (oldUser && !newUser) history.push(\"/logout\")\n    setUser(newUser)\n  }), [])\n\n  useEffect(() => history.listen(location => {\n      // Keep default behavior of restoring scroll position when the user goes back\n      if (history.action === 'POP') return\n      // In all other cases, scroll to the top\n      pageContainerRef.current.scrollTo(0, 0)\n    }), [])\n\n  return (\n    <div className=\"App\">\n        <Navbar/>\n          <div className=\"Admin-App\">\n            { user && <Sidebar/> }\n            <div className=\"Page-Container\" ref={pageContainerRef}>\n              { user !== undefined &&\n                <Switch>\n                  <Route exact path={process.env.REACT_APP_PATH_HOME} component={HomeView}/>\n                  <Route exact path={process.env.REACT_APP_PATH_WHY_PARTICIPATE} component={WhyPartycipateView}/>\n                  <Route exact path={process.env.REACT_APP_PATH_DOCS} component={DocsView}/>\n                  <Route exact path={`${process.env.REACT_APP_PATH_DOCS}/:id`} component={DocsView}/>\n                  <Route exact path={process.env.REACT_APP_PATH_CONTACT} component={ContactView}/>\n                  <Route exact path={process.env.REACT_APP_PATH_IMPRINT} component={ImprintView}/>\n                  <Route exact path={process.env.REACT_APP_PATH_PRIVACY_STATEMENT} component={PrivacyStatementView}/>\n\n                  <AuthRoute user={user} exact path={process.env.REACT_APP_PATH_LOGOUT} component={LogoutView}/>\n                  <AuthRoute user={user} exact path={process.env.REACT_APP_PATH_SIGN_UP} component={SignupView}/>\n                  <AuthRoute user={user} exact path={process.env.REACT_APP_PATH_LOGIN} component={LoginView}/>\n\n                  <SecureRoute user={user} exact path={process.env.REACT_APP_PATH_DASHBOARD} component={DashboardView}/>\n                  <SecureRoute user={user} exact path={process.env.REACT_APP_PATH_CREATE_SURVEY} component={CreateSurveyView}/>\n                  <SecureRoute user={user} exact path={process.env.REACT_APP_PATH_SURVEY_OVERVIEW} component={SurveyOverview}/>\n                  <SecureRoute user={user} exact path={`${process.env.REACT_APP_PATH_SURVEY_OVERVIEW}/:id`} component={ResultsView}/>\n                  <SecureRoute user={user} exact path={process.env.REACT_APP_PATH_ACCOUNT_VIEW} component={AccountView}/>\n\n                  <AdminRoute user={user} exact path={process.env.REACT_APP_PATH_USERS_OVERVIEW} component={AdminUserOverview}/>\n                  <AdminRoute user={user} exact path={`${process.env.REACT_APP_PATH_USERS_OVERVIEW}/:userID`} component={AdminUserView}/>\n                  \n                  <Route path=\"*\" component={Page404}/>\n                </Switch>\n              }\n              <Footer/>\n            </div>\n          </div>\n    </div>\n  )\n}\n\n\n\nfunction SecureRoute({ user, exact, path, component }) {\n  const history = useHistory()\n  return user ? <Route exact={exact} path={path} component={component}/> : <Redirect exact={exact} path={path} to={{pathname: process.env.REACT_APP_PATH_LOGIN, search: `red=${window.location.pathname}`, state: history.location.state }}/>\n}\n\n\nfunction AdminRoute({ user, exact, path, component }) {\n  const history = useHistory()\n  const userIsAdmin = () => user && Server.admin().userIsAdmin(user)\n  return userIsAdmin() ? <Route exact={exact} path={path} component={component}/> : <Page404/>\n}\n\n\nfunction AuthRoute({ user, exact, path, component }) {\n  const redirectPath = new URLSearchParams(useLocation().search).get(\"red\")\n  return user ? <Redirect exact={exact} path={path} to={redirectPath || process.env.REACT_APP_PATH_DASHBOARD}/> : <Route exact={exact} path={path} component={component}/>\n}\n\nconst Page404 = () => <ErrorPage message=\"The page youre looking for cant be found.\"/>\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from \"react-router-dom\"\nimport Main from './apps/Main'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Main/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}